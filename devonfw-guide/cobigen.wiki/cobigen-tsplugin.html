<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>TypeScript Plug-in</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" integrity="sha256-M/Awbb/BYh+Rh0aGjpQid26p1b2OBsrk2k9yAvQxPV0=" crossorigin="anonymous"></script>
<!-- JQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/styles/googlecode.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/lang/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<!-- ************** Google analytics ************ -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>

<!-- ******************************************** -->

</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">RESOURCES</a></p>
</li>
<li>
<p><a href="/website/pages/explore/explore.html">EXPLORE</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">DOCS</a></p>
</li>
<li>
<p><a href="/website/pages/community/community.html">COMMUNITY</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#cobigen-tsplugin.asciidoc">TypeScript Plug-in</a>
<ul class="sectlevel1">
<li><a href="#cobigen-tsplugin.asciidoc_trigger-extensions">Trigger Extensions</a></li>
<li><a href="#cobigen-tsplugin.asciidoc_merger-extensions">Merger extensions</a></li>
<li><a href="#cobigen-tsplugin.asciidoc_input-reader">Input reader</a>
<ul class="sectlevel2">
<li><a href="#cobigen-tsplugin.asciidoc_object-model">Object model</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="cobigen-tsplugin.asciidoc" class="sect0">TypeScript Plug-in</h1>
<div class="paragraph">
<p>The TypeScript Plug-in enables merging result TS files to existing ones. This plug-in is used at the moment for generate an Angular2 client with all CRUD functionalities enabled. The plug-in also generates de i18n functionality just appending at the end of the word the ES or EN suffixes, to put into the developer knowledge that this words must been translated to the correspondent language. Currently, the generation of Angular2 client requires an ETO java object as input so, there is no need to implement an input reader for ts artifacts for the moment.</p>
</div>
<div class="sect1">
<h2 id="cobigen-tsplugin.asciidoc_trigger-extensions">Trigger Extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As for the Angular2 generation the input is a java object, the trigger expressions (including matchers and variable assignments) are implemented as <a href="https://github.com/devonfw/cobigen/wiki/cobigen-javaplugin#trigger-extension">Java</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cobigen-tsplugin.asciidoc_merger-extensions">Merger extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This plugin uses the <a href="https://github.com/oasp/ts-merger">OASP TypeScript Merger</a> to merge files. There are currently two merge strategies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>merge strategy <code>tsmerge</code> (add the new code respecting the existing is case of conflict)</p>
</li>
<li>
<p>merge strategy <code>tsmerge_override</code> (add the new code overwriting the existent in case of conflict)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The merge algorithm mainly handles the following AST nodes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>ImportDeclaration</strong></p>
<div class="ulist">
<ul>
<li>
<p>Will add non existent imports whatever the merge strategy is.</p>
</li>
<li>
<p>For different imports from same module, the import clauses will be merged.</p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="ts language-ts">import { a } from 'b';
import { c } from 'b';
//Result
import { a, c } from 'b';</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>ClassDeclaration</strong></p>
<div class="ulist">
<ul>
<li>
<p>Adds non existent base properties from patch based on the name property.</p>
</li>
<li>
<p>Adds non existent base methods from patch based on the name signature.</p>
</li>
<li>
<p>Adds non existent annotations to class, properties and methods.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>PropertyDeclaration</strong></p>
<div class="ulist">
<ul>
<li>
<p>Adds non existent decorators.</p>
</li>
<li>
<p>Merge existent decorators.</p>
</li>
<li>
<p>With override strategy, the value of the property will be replaced by the patch value.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>MethodDeclaration</strong></p>
<div class="ulist">
<ul>
<li>
<p>With override strategy, the body will be replaced.</p>
</li>
<li>
<p>The parameters will be merged.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>ParameterDeclaration</strong></p>
<div class="ulist">
<ul>
<li>
<p>Replace type and modifiers with override merge strategy, adding non existent from patch into base.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>ConstructorDeclaration</strong></p>
<div class="ulist">
<ul>
<li>
<p>Merged in the same way as Method is.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>FunctionDeclaration</strong></p>
<div class="ulist">
<ul>
<li>
<p>Merged in the same way as Method is.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cobigen-tsplugin.asciidoc_input-reader">Input reader</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The TypeScript input reader is based on the one that the <a href="https://github.com/devonfw/ts-merger">TypeScript merger</a> uses. The current extensions are additional module fields giving from which library any entity originates.
<code>module: null</code> specifies a standard entity or type as <code>string</code> or <code>number</code>.</p>
</div>
<div class="sect2">
<h3 id="cobigen-tsplugin.asciidoc_object-model">Object model</h3>
<div class="paragraph">
<p>To get a first impression of the created object after parsing, let us start with analyzing a small example, namely the parsing of a simple <a href="https://typeorm.io/#/">type-orm</a> model written in TypeScript.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="Typescript language-Typescript">import {Entity, PrimaryGeneratedColumn, Column} from "typeorm";

@Entity()
export class User {

    @PrimaryGeneratedColumn()
    id: number;

    @Column()
    firstName: string;

    @Column()
    lastName: string;

    @Column()
    age: number;

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The returned object has the following structure</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="JSON language-JSON">{
  "importDeclarations": [
    {
      "module": "typeorm",
      "named": [
        "Entity",
        "PrimaryGeneratedColumn",
        "Column"
      ],
      "spaceBinding": true
    }
  ],
  "classes": [
    {
      "identifier": "User",
      "modifiers": [
        "export"
      ],
      "decorators": [
        {
          "identifier": {
            "name": "Entity",
            "module": "typeorm"
          },
          "isCallExpression": true
        }
      ],
      "properties": [
        {
          "identifier": "id",
          "type": {
            "name": "number",
            "module": null
          },
          "decorators": [
            {
              "identifier": {
                "name": "PrimaryGeneratedColumn",
                "module": "typeorm"
              },
              "isCallExpression": true
            }
          ]
        },
        {
          "identifier": "firstName",
          "type": {
            "name": "string",
            "module": null
          },
          "decorators": [
            {
              "identifier": {
                "name": "Column",
                "module": "typeorm"
              },
              "isCallExpression": true
            }
          ]
        },
        {
          "identifier": "lastName",
          "type": {
            "name": "string",
            "module": null
          },
          "decorators": [
            {
              "identifier": {
                "name": "Column",
                "module": "typeorm"
              },
              "isCallExpression": true
            }
          ]
        },
        {
          "identifier": "age",
          "type": {
            "name": "number",
            "module": null
          },
          "decorators": [
            {
              "identifier": {
                "name": "Column",
                "module": "typeorm"
              },
              "isCallExpression": true
            }
          ]
        }
      ]
    }
  ]
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we only consider the first level of the JSON response, we spot two lists of <code>imports</code> and <code>classes</code>, providing information about the only import statement and the only <strong>User</strong> class, respectively. Moving one level deeper we observe that:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Every import statement is translated to an import declaration entry in the declarations list, containing the module name, as well as a list of entities imported from the given module.</p>
</li>
<li>
<p>Every class entry provides besides the class identifier, its decoration(s), modifier(s), as well as a list of properties that the original class contains.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that, for each given type, the module from which it is imported is also given as in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="JSON language-JSON">  "identifier": {
    "name": "Column",
    "module": "typeorm"
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Returning to the general case, independently from the given TypeScript file, an object having the following Structure will be created.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>importDeclarations</strong>: A list of import statement as described above</p>
</li>
<li>
<p><strong>exportDeclarations</strong>: A list of export declarations</p>
</li>
<li>
<p><strong>classes</strong>: A list of classes extracted from the given file, where each entry is full of class specific fields, describing its properties and decorator for example.</p>
</li>
<li>
<p><strong>interfaces</strong>: A list of interfaces.</p>
</li>
<li>
<p><strong>variables</strong>: A list of variables.</p>
</li>
<li>
<p><strong>functions</strong>: A list of functions.</p>
</li>
<li>
<p><strong>enums</strong>: A list of enumerations.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html#introduction-why-should-i-use-devonfw.asciidoc">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_further-information.html">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devon4j.asciidoc_architecture.html">Architecture</a></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">Resources</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-ide-support.asciidoc.html#LICENSE.asciidoc">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script type="module">
      import { UtilsModule } from '/website/shared/utils.js';
      import { HeaderModule } from '/website/components/header/header.js';

      let searchData = { index: null, documents: null };
      UtilsModule.loadIndex(searchData);

      $(window).on('load', function() {
        const queryFun = () => {
          HeaderModule.queryFunction(searchData);
        };

        HeaderModule.searchOnClick(queryFun);
      });
    </script>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
<div class="footnote"><sub>

Last updated 2020-03-27 12:25:39 UTC
</sub></div>
</div>
</div>
</body>
</html>