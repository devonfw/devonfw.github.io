<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Solicitor User Guide</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc" class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="https://devonfw.com/"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://devonfw.com/website/pages/learning/">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>SPDX-License-Identifier: Apache-2.0</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Today&#8217;s software projects often make use of large amounts of Open Source software. Being
compliant with the license obligations of the used software components is a prerequisite for every such project. This results in different requirements that the project might need to fulfill. Those requirements can be grouped into two main categories:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Things that need to be done to actually fulfill license obligations</p>
</li>
<li>
<p>Things that need to be done to monitor / report fulfillment of license obligations</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Most of the above activities share common points:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The need to have an inventory of used (open source) components and their licenses</p>
</li>
<li>
<p>Some rule based evaluation and reporting based on this inventory</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>While working on these easy looking tasks, they might get complex due to various aspects:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The number of open source components might be quite large (&gt;&gt; 100 for a typical webapplication based on state of the art programming frameworks)</p>
</li>
<li>
<p>Agile development and rapid changes of used components result in frequent changes of the inventory</p>
</li>
<li>
<p>Open Source usage scenarios and license obligations might be OK in one context (e.g. in the relation between a software developer and his client) but might be completely unacceptable in another context (e.g. when the client distributes the same software to end customers)</p>
</li>
<li>
<p>Legal interpretation of license conditions often differ from organization to organization and result in different compliance rules to be respected.</p>
</li>
<li>
<p>License information for components is often not available in a standardized form which would allow automatic processing</p>
</li>
<li>
<p>Tools for supporting the license management processes are often specific to a technology or build tool and do not support all aspects of OSS license management.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Of course there are specific commercial tool suites which address the IP rights and license domain. But due to high complexity and license costs those tools are out of reach for most projects - at least for permanent use.</p>
</div>
<div class="paragraph">
<p><em>Solicitor</em> tries to address some of the issues highlighted above. In its initial version it is a tool for programmatically executing a process which was originally defined as an Excel-supported manual process.</p>
</div>
<div class="paragraph">
<p>When running <em>Solicitor</em> three subsequent processing steps are executed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Creating an initial component and license inventory based on technology specific input files</p>
</li>
<li>
<p>Rule based normalization and evaluation of licenses</p>
</li>
<li>
<p>Generation of output documents</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
<code>Solicitor</code> comes with a set of <strong>sample</strong> rules for the normalization and evaluation of licenses.
Even though these included rules are not "intentionally wrong" they are only samples and <strong>you should never rely on these builtin rules without checking and possibly modifying their content and consulting your lawyer</strong>.
<em>Solicitor</em> is a tool for technically supporting the management of OSS licenses within your project.
<em>Solicitor</em> neither gives legal advice nor is a replacement for a lawyer.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_licensing-of-solicitor">1.1. Licensing of Solicitor</h3>
<div class="paragraph">
<p>The <em>Solicitor</em> code and accompanying resources (including this userguide) as stored in the GIT Repository <a href="https://github.com/devonfw/solicitor" class="bare">https://github.com/devonfw/solicitor</a> are licensed as Open Source under Apache 2 license (<a href="https://www.apache.org/licenses/LICENSE-2.0" class="bare">https://www.apache.org/licenses/LICENSE-2.0</a>).</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
Specifically observe the "Disclaimer of Warranty" and "Limitation of Liability" which are part of the license.
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
The executable JAR file which is created by the Maven based build process includes numerous other Open Source components which are subject to different Open Source licenses. Any distribution of the <em>Solicitor</em> executable JAR file needs to comply with the license conditions of all those components.
If you are running <em>Solicitor</em> from the executable JAR you might use the <code>-eug</code> option to store detailed license information as file <code>solicitor_licenseinfo.html</code> in your current working directory (together with a copy of this user guide).
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_architecture">2. Architecture</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following picture show a business oriented view of <em>Solicitor</em>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/domain_model.png" alt="domain model" width="50%"></span></p>
</div>
<div class="paragraph">
<p>Raw data about the components and attached licenses within an application is gathered by <em>scanning</em> with technology and build chain specific tools. This happens outside <em>Solicitor</em>.</p>
</div>
<div class="paragraph">
<p>The <em>import</em> step reads this data and transforms it into a common technology independent internal format.</p>
</div>
<div class="paragraph">
<p>In the <em>normalization</em> step the license information is completed and unified.
Information not contained in the raw data is added.
Where possible the applicable licenses are expressed by <a href="https://spdx.org/">SPDX-IDs</a>.</p>
</div>
<div class="paragraph">
<p>Many open source components are available via multi licensing models.
Within <em>qualification</em> the finally applicable licenses are selected.</p>
</div>
<div class="paragraph">
<p>In the <em>legal assessment</em> the compliance of applicable licenses will be checked based on generic rules defined in company wide policies and possibly project specific project specific extensions.
Defining those rules is considered as "legal advice" and possibly needs to be done by lawyers which are authorized to do so.
For this step <em>Solicitor</em> only provides a framework / tool to support the process here but does not deliver any predefined rules.</p>
</div>
<div class="paragraph">
<p>The final <em>export</em> step produces documents based on the internal data model. This might be the list of licenses to be forwarded to the customer or a license compliance report. Data might also be fed into other systems.</p>
</div>
<div class="paragraph">
<p>A more technical oriented view of <em>Solicitor</em> is given below.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/solution.png" alt="solution" width="100%"></span></p>
</div>
<div class="paragraph">
<p>There are three major technical components: The <em>reader</em> and <em>writer</em> components are performing import and export of data. The business logic - doing <em>normalization</em>, <em>qualification</em> and <em>legal assessment</em> is done by a <em>rule engine</em>. Rules are mainly defined via <em>decision tables</em>. <em>Solicitor</em> comes with a starting set of rules for <em>normalization</em> and <em>qualification</em> but these rulesets need to be extended within the projects. Rules for legal evaluation need to be completely defined by the user.</p>
</div>
<div class="paragraph">
<p><em>Solicitor</em> is working without additional persisted data: When being executed it generates the output directly from the read input data after processing the business rules.</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_data-model">2.1. Data Model</h3>
<div class="paragraph">
<p><span class="image"><img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/datamodel.png" alt="datamodel" width="50%"></span></p>
</div>
<div class="paragraph">
<p>The internal business data model consists of 6 entities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong><code>ModelRoot</code></strong>: root object of the business data model which holds metadata about the data processing</p>
</li>
<li>
<p><strong><code>Engagement</code></strong>: the masterdata of the overall project</p>
</li>
<li>
<p><strong><code>Application</code></strong>: a deliverable within the <code>Engagement</code></p>
</li>
<li>
<p><strong><code>ApplicationComponent</code></strong>: component within an <code>Application</code></p>
</li>
<li>
<p><strong><code>RawLicense</code></strong>: License info attached to an <code>ApplicationComponent</code> as it is read from the input data</p>
</li>
<li>
<p><strong><code>NormalizedLicense</code></strong>: License info attached to an <code>ApplicationComponent</code> processed by the business rules</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_modelroot">2.1.1. ModelRoot</h4>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 30%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">modelVersion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">int</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version number of the data model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">executionTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp when the data was processed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">solicitorVersion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Solicitor version which processed the model</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">solicitorGitHash</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">buildnumber / GitHash of the Solicitor build</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">solicitorBuilddate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">build date of the Solicitor build</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extensionArtifactId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifactId of the active <em>Solicitor</em> Extension ("NONE" if no extension)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extensionVersion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version of the active Extension (or "NONE")</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">extensionGitHash</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Buildnumber / GitHash of the Extension (or "NONE")</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_engagement">2.1.2. Engagement</h4>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 30%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">engagementName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the engagement name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">engagementType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EngagementType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the engagement type; possible values: INTERN, EXTERN</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">clientName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of the client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">goToMarketModel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GoToMarketModel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the go-to-market-model; possible values: LICENSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">contractAllowsOss</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">does the contract explicitly allow OSS?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ossPolicyFollowed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is the companies OSS policy followed?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">customerProvidesOss</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">does the customer provide the OSS?</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_application">2.1.3. Application</h4>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 30%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">applicationName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the application / deliverable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">releaseId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version identifier of the application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">releaseDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">release data of the application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceRepo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the source repo of the application (should be an URL)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">programmingEcosystem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">programming ecosystem (e.g. Java8; Android/Java, iOS / Objective C)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_applicationcomponent">2.1.4. ApplicationComponent</h4>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 30%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">usagePattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UsagePattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">possible values: DYNAMIC_LINKING, STATIC_LINKING, STANDALONE_PRODUCT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ossModified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">is the OSS modified?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ossHomepage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the OSS homepage</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceRepoUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the Source-Code-Repo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">groupId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">component identifier: maven group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">artifactId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">component identifier: maven artifactId</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">component identifier: Version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">repoType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">component identifier: RepoType</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">packageUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the <a href="https://github.com/package-url/purl-spec">Package URL</a> as an technology neutral component identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">noticeFileUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL referencing a NOTICE file to be included in the attributions (optional, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">Experimental Scancode Integration</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">noticeFileContent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolved content of noticeFileUrl (optional, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">Experimental Scancode Integration</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">copyrights</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copyright statements found in the components metadata / code (optional, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">Experimental Scancode Integration</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">packageDownloadUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL for downloading the component (optional, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">Experimental Scancode Integration</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sourceDownloadUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL for downloading the sources of the component (optional, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">Experimental Scancode Integration</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dataStatus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional status of the data associated with the component. Possible values TBD.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">traceabilityNotes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional notes for tracing the information about this component back to its origin.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_rawlicense">2.1.5. RawLicense</h4>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 30%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">declaredLicense</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of the declared license</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">licenseUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the declared license</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">declaredLicenseContent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">license text as provided in the input data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">detail info of history of this data record</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">origin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">origin of the raw license data; either the lowercase classname of the Reader or "scancode" if licensedata was taken from scancode results</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">specialHandling</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(for controlling rule processing)</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_normalizedlicense">2.1.6. NormalizedLicense</h4>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 30%;">
<col style="width: 10%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">declaredLicense</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of the declared license (copied from RawLicense)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">licenseUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL of the declared license (copied from RawLicense</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">declaredLicenseContent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolved content of licenseUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">normalizedLicenseType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">type of the license, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_license-types">License types</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">normalizedLicense</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name of the license in normalized form (SPDX-Id) or special "pseudo license id", see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_pseudo-license-ids">Pseudo License Ids</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">normalizedLicenseUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL pointing to a normalized form of the license</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">normalizedLicenseContent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolved content of normalizedLicenseUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">normalizedLicenseType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">type of the license, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_license-types">License types</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">effectiveNormalizedLicenseType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">type of the effective license, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_license-types">License types</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">effectiveNormalizedLicense</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">effective normalized license (SPDX-Id) or "pseudo license id"; this is the information after selecting the right license in case of multi licensing or any license override due to a component being redistributed under a different license</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">effectiveNormalizedLicenseUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL pointing to the effective normalized license</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">effectiveNormalizedLicenseContent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolved content of effectiveNormalizedLicenseUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">legalPreApproved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates whether the license is pre approved based on company standard policy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">copyLeft</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates the type of copyleft of the license</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">licenseCompliance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates if the license is compliant according to the default company policy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">licenseRefUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL to the reference license information (TBD)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">licenseRefContent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolved content of licenseRefUrl</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">includeLicense</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">does the license require to include the license text ?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">includeSource</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">does the license require to deliver source code of OSS component ?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">reviewedForRelease</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">for which release was the legal evaluation done?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">comments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comments on the component/license (mainly as input to legal)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">legalApproved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">indicates whether this usage is legally approved</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">legalComments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">comments from legal, possibly indicating additional conditions to be fulfilled</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">trace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">detail info of history of this data record (rule executions)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guessedLicenseUrl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">guessed (possibly improved) URL of the effective normalized license</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guessedLicenseUrlAuditInfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">audit info which documents how the guessedLicenseUrl was guessed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">guessedLicenseContent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">resolved content of guessedLicenseUrl</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For the mechanism how <em>Solicitor</em> resolves the content of URLs and how the result
might be influenced see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_resolving-of-license-urls">Resolving of License URLs</a>.</p>
</div>
<div class="paragraph">
<p>For a description of the URL guessing mechanism see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_guessing-of-license-urls">Guessing of license URLs</a>.</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_license-types">License types</h5>
<div class="paragraph">
<p>Defines the type of license</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>OSS-SPDX</code> - An OSS license which has a corresponding SPDX-Id</p>
</li>
<li>
<p><code>OSS-OTHER</code> - An OSS license which has no SPDX-Id</p>
</li>
<li>
<p><code>COMMERCIAL</code> - Commercial (non OSS) license; this might also include code which is owned by the project</p>
</li>
<li>
<p><code>UNKNOWN</code>- License is unknown</p>
</li>
<li>
<p><code>IGNORED</code>- license will be ignored (non selected license in multi licensing case; only to be used as "Effective Normalized License Type")</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_pseudo-license-ids">Pseudo License Ids</h5>
<div class="paragraph">
<p>A "normalized" license id might be either a SPDX-Id or a "pseudo license id" which is used to indicate a specific situation. The following pseudo license ids are used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>OSS specific</code> - a nonstandard OSS license which could not be mapped to a SPDX-Id</p>
</li>
<li>
<p><code>PublicDomain</code> - any form of public domain which is not represented by an explicit SPDX-Id</p>
</li>
<li>
<p><code>Ignored</code> - license will be ignored (non selected license in multi licensing case; only to be used as "Effective Normalized License")</p>
</li>
<li>
<p><code>NonOSS</code> - commercial license, not OSS</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_usage">3. Usage</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_executing-solicitor">3.1. Executing Solicitor</h3>
<div class="paragraph">
<p><em>Solicitor</em> is a standalone Java (Spring Boot) application. Prerequisite for running it is an existing Java 8 or 11 runtime environment. If you do not yet have a the <em>Solicitor</em> executable JAR (<code>solicitor.jar</code>) you need to build it as given on the project GitHub homepage <a href="https://github.com/devonfw/solicitor" class="bare">https://github.com/devonfw/solicitor</a> .</p>
</div>
<div class="paragraph">
<p><em>Solicitor</em> is executed with the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar solicitor.jar -c &lt;configfile&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>where <code>&lt;configfile&gt;</code> is to be replaced by the location of the <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_project-configuration-file">Project Configuration File</a>.</p>
</div>
<div class="paragraph">
<p>To get a first idea on what <em>Solicitor</em> does you might call</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar solicitor.jar -c classpath:samples/solicitor_sample.cfg</pre>
</div>
</div>
<div class="paragraph">
<p>This executes <em>Solicitor</em> with default configuration on it own list of internal components and produces sample output.</p>
</div>
<div class="paragraph">
<p>To get an overview of the available command line options use</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar solicitor.jar -h</pre>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Addressing of resources</div>
<div class="paragraph">
<p>For unique addressing of resources <strong>to be read</strong> (configuration files, input data, rule templates and decision tables) <em>Solicitor</em> makes use of the Spring ResourceLoader functionality, see <a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#resources-resourceloader" class="bare">https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#resources-resourceloader</a> . This allows to load from the classpath, the filesystem or even via http get.</p>
</div>
<div class="paragraph">
<p>If you want to reference a file in the filesystem you need to write it as follows: <code>file:path/to/file.txt</code></p>
</div>
<div class="paragraph">
<p>Note that this only applies to resources being read. Output files are addressed without that prefix.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_project-configuration-file">3.2. Project Configuration File</h3>
<div class="paragraph">
<p>The project configuration of <em>Solicitor</em> is done via a configuration file in
JSON format. This configuration file defines the engagements and applications master data, configures the readers for importing component and license information, references the business rules to be applied and defines the exports to be done.</p>
</div>
<div class="paragraph">
<p>The config file has the following skeleton:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>{
  "version" : 1,
  "comment" : "Sample Solicitor configuration file",
  "engagementName" : "devonfw", <i class="conum" data-value="1"></i><b>(1)</b>
  .
  .
  .
  "applications" : [ ... ], <i class="conum" data-value="2"></i><b>(2)</b>
  "rules" : [ ... ],  <i class="conum" data-value="3"></i><b>(3)</b>
  "writers" : [ ... ], <i class="conum" data-value="4"></i><b>(4)</b>
  "additionalWriters" : [ ...] <i class="conum" data-value="5"></i><b>(5)</b>
}</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The leading data defines the engagement master data, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_header-and-engagement-master-data">Header and Engagement Master Data</a></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>applications</code>  defines the applications within the engagement and configures the readers to import the component/license information, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_applications">Applications</a></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><code>rules</code> references the rules to apply to the imported data, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_business-rules">Business Rules</a></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>writers</code> configures how the processed data should be exported, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_writers-and-reporting">Writers and Reporting</a></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>additionalWriters</code> defines optional additional project specific writers without overwriting already defined writers, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_writers-and-reporting">Writers and Reporting</a></td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
The following section describes all sections of the <em>Solicitor</em> configuration file format. Often the configuration of <code>writers</code> and especially <code>rules</code> will be identical for projects. To facilitate the project specific configuration setup <em>Solicitor</em> internally provides a base configuration which contains reasonable defaults for the <code>rules</code> and <code>writers</code> section. If the project specific configuration file omits the <code>rules</code> and/or <code>writers</code> sections then the corresponding settings from the base configuration will be taken. For details see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_default-base-configuration">Default Base Configuration</a>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
If locations of files are specified within the configuration files as relative
pathnames then this is always evaluated relative to the current working directory (which
might differ from the location of the configuration file). If some file location
should be given relative to the location of the configuration file this might be done
using the special placeholder <code>${cfgdir}</code> as described in the following.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_placeholders-within-the-configuration-file">3.2.1. Placeholders within the configuration file</h4>
<div class="paragraph">
<p>Within certain parts of the configuration file (path and filenames) special placeholders might be used to parameterize the configuration. These areas are explicitly marked in the following
description.</p>
</div>
<div class="paragraph">
<p>These placeholders are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>${project}</code> - A simplified project name (taking the engagement name,
removing all non-word characters and converting to lowercase).</p>
</li>
<li>
<p><code>${cfgdir}</code> -  If the config file was loaded from the filesystem this denotes the directory where the config file resides, <code>.</code>  otherwise. This can be used to reference locations relative to the location of the config file.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_header-and-engagement-master-data">3.2.2. Header and Engagement Master Data</h4>
<div class="paragraph">
<p>The leading section of the config file defines some metadata and the engagement master data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  "version" : 1, <i class="conum" data-value="1"></i><b>(1)</b>
  "comment" : "Sample Solicitor configuration file", <i class="conum" data-value="2"></i><b>(2)</b>
  "engagementName" : "devonfw", <i class="conum" data-value="3"></i><b>(3)</b>
  "engagementType" : "INTERN", <i class="conum" data-value="4"></i><b>(4)</b>
  "clientName" : "none", <i class="conum" data-value="5"></i><b>(5)</b>
  "goToMarketModel" : "LICENSE", <i class="conum" data-value="6"></i><b>(6)</b>
  "contractAllowsOss" : true, <i class="conum" data-value="7"></i><b>(7)</b>
  "ossPolicyFollowed" : true, <i class="conum" data-value="8"></i><b>(8)</b>
  "customerProvidesOss" : false, <i class="conum" data-value="9"></i><b>(9)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>version of the config file format (currently needs to be 1)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>is a free text comment (no further function at the moment)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the engagement name (any string)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>the engagement type; possible values: INTERN, EXTERN</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>name of the client (any string)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the go-to-market-model; possible values: LICENSE</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>does the contract explicitly allow OSS? (boolean)</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>is the companies OSS policy followed? (boolean)</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>does the customer provide the OSS? (boolean)</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_applications">3.2.3. Applications</h4>
<div class="paragraph">
<p>Within this section the different applications (=deliverables) of the engagement are defined. Furthermore, for each application at least one reader needs to be defined which imports the component and license information.</p>
</div>
<div class="listingblock">
<div class="content">
<pre> "applications" : [ {
    "name" : "Devon4J", <i class="conum" data-value="1"></i><b>(1)</b>
    "releaseId" : "3.1.0-SNAPSHOT", <i class="conum" data-value="2"></i><b>(2)</b>
    "sourceRepo" : "https://github.com/devonfw/devon4j.git", <i class="conum" data-value="3"></i><b>(3)</b>
    "programmingEcosystem" : "Java8", <i class="conum" data-value="4"></i><b>(4)</b>
    "readers" : [ { <i class="conum" data-value="5"></i><b>(5)</b>
      "type" : "maven", <i class="conum" data-value="6"></i><b>(6)</b>
      "source" : "classpath:samples/licenses_devon4j.xml", <i class="conum" data-value="7"></i><b>(7)</b> <i class="conum" data-value="10"></i><b>(10)</b>
      "usagePattern" : "DYNAMIC_LINKING", <i class="conum" data-value="8"></i><b>(8)</b>
      "repoType" : "maven" <i class="conum" data-value="9"></i><b>(9)</b>
    } ]
  } ],</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The name of the application / deliverable (any string)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Version identifier of the application (any string)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>URL of the source repo of the application (string; should be an URL)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>programming ecosystem (any string; e.g. Java8; Android/Java, iOS / Objective C)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>multiple readers might be defined per application</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the type of reader; for possible values see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_reading-license-information-with-readers">Reading License Information with Readers</a></td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>location of the source file to read (ResourceLoader-URL)</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>usage pattern; possible values: DYNAMIC_LINKING, STATIC_LINKING, STANDALONE_PRODUCT</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>repoType: Repository to download the sources from: currently possible values: maven, npm, pip, yarn, ort; if omitted then "maven" will be taken as default</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td><em>placeholder patterns might be used here</em></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The different readers are described in chapter <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_reading-license-information-with-readers">Reading License Information with Readers</a></p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_business-rules">3.2.4. Business Rules</h4>
<div class="paragraph">
<p>Business rules are executed within a <a href="https://www.drools.org/">Drools</a> rule engine.
They are defined as a sequence of rule templates and corresponding XLS (or CSV) files which together represent decision tables.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  "rules" : [ {
    "type" : "dt", <i class="conum" data-value="1"></i><b>(1)</b>
    "optional" : false, <i class="conum" data-value="2"></i><b>(2)</b>
    "ruleSource" : "classpath:samples/LicenseAssignmentV2Sample.xls", <i class="conum" data-value="3"></i><b>(3)</b> <i class="conum" data-value="9"></i><b>(9)</b>
    "templateSource" : "classpath:com/.../rules/rule_templates/LicenseAssignmentV2.drt", <i class="conum" data-value="4"></i><b>(4)</b> <i class="conum" data-value="9"></i><b>(9)</b>
    "ruleGroup" : "LicenseAssignmentV2", <i class="conum" data-value="5"></i><b>(5)</b>
    "description" : "setting license in case that no one was detected", <i class="conum" data-value="6"></i><b>(6)</b>
    "deprecationWarnOnly" : true, <i class="conum" data-value="7"></i><b>(7)</b>
    "deprecationDetails" : "This decision table should be migrated to ..." <i class="conum" data-value="8"></i><b>(8)</b>
  },
  .
  .
  .
,{
    "type" : "dt",
    "optional" : false,
    "ruleSource" : "classpath:samples/LegalEvaluationSample.xls",
    "templateSource" : "classpath:com/.../rules/rule_templates/LegalEvaluation.drt",
    "ruleGroup" : "LegalEvaluation",
    "description" : "final legal evaluation based on the rules defined by legal"
  } ],</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>type of the rule; only possible value: <code>dt</code> which stands for "decision table"</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>if set to <code>true</code> the processing of this group of rules will be skipped if the XLS/CSV with table
data (given by <code>ruleSource</code>) does not exist; if set to <code>false</code> a missing XLS/CSV table will result
in program termination</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>location of the tabular decision table data. This might either point directly to the XLS or CSV file
or only give the resource name without suffix. In this case <em>Solicitor</em> will dynamically test for existing
resources by appending suffixes <em>xls</em> and <em>csv</em>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>location of the drools rule template to be used to define the rules together with the decision table data</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>id of the group of rules; used to reference it e.g. when doing logging</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>some textual description of the rule group</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>flag to control which level of deprecation (see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_feature-deprecation">Feature Deprecation</a>) applies to this rule group; optional and only applicable if <code>deprecationDetails</code> is also defined.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>optional value; if set then the use of the defined decision table is deprecated; the
given string will be given as part of the log message</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><em>placeholder patterns might be used here</em></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When running, <em>Solicitor</em> will execute the rules of each rule group separately and in the order
given by the configuration. Only if there are no more rules to fire in a group <em>Solicitor</em> will
move to the next rule group and start firing those rules.</p>
</div>
<div class="paragraph">
<p>Normally a project will only customize (part of) the data of the decision tables and thus will only change the <code>ruleSource</code> and the data in the XLS/CSV.
All other configuration (the different templates and processing order) is part of the <em>Solicitor</em> application itself and should not be changed by end users.</p>
</div>
<div class="paragraph">
<p>See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_working-with-decision-tables">Working with Decision Tables</a> and <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_standard-business-rules">Standard Business Rules</a> for further information on the business rules.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_writers-and-reporting">3.2.5. Writers and Reporting</h4>
<div class="paragraph">
<p>The writer configuration defines how the processed data will be exported and/or reported.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  "writers" : [ {
    "type" : "xls", <i class="conum" data-value="1"></i><b>(1)</b>
    "templateSource" : "classpath:samples/Solicitor_Output_Template_Sample.xlsx", <i class="conum" data-value="2"></i><b>(2)</b> <i class="conum" data-value="6"></i><b>(6)</b>
    "target" : "OSS-Inventory-devonfw.xlsx", <i class="conum" data-value="3"></i><b>(3)</b> <i class="conum" data-value="6"></i><b>(6)</b>
    "description" : "The XLS OSS-Inventory document", <i class="conum" data-value="4"></i><b>(4)</b>
    "dataTables" : { <i class="conum" data-value="5"></i><b>(5)</b>
      "ENGAGEMENT"  : "classpath:com/devonfw/tools/solicitor/sql/allden_engagements.sql",
      "LICENSE" : "classpath:com/devonfw/tools/solicitor/sql/allden_normalizedlicenses.sql"
    }
  } ]</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>type of writer to be selected; possible values: <code>xls</code>, <code>velo</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>path to the template to be used</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>location of the output file</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>some textual description</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>reference to SQL statements used to transform the internal data model to data tables used for reporting</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><em>placeholder patterns might be used here</em></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If a <code>writers</code> section is defined in the project configuration then it will replace the writer configuration given in the
builtin default configuration.
If you want to just <em>add</em> additional project specific writers then you might define them in the (optional)
<code>additionalWriters</code> section of the project configuration file. These get processed
additionally to the default writers. The section <code>additionalWriters</code> has the same attributes as the standard <code>writers</code> configuration.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>  "additionalWriters" : [ {
    "type" :
    ...
    "dataTables" : {
        ...
    }
  } ]</pre>
</div>
</div>
<div class="paragraph">
<p>For details on the writer configuration see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_reporting-and-creating-output-documents">Reporting and Creating output documents</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_starting-a-new-project">3.3. Starting a new project</h3>
<div class="paragraph">
<p>To simplify setting up a new project <em>Solicitor</em> provides an option to create a project starter configuration in a given directory.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar solicitor.jar -wiz some/directory/path</pre>
</div>
</div>
<div class="paragraph">
<p>Besides the necessary configuration file this includes also empty XLS or CSV files for defining project
specific rules which amend the builtin rules. Furthermore, a sample <code>license.xml</code> file is provided to
directly enable execution of solicitor and check functionality.</p>
</div>
<div class="paragraph">
<p>This configuration then serves as starting point for project specific configuration.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_exporting-the-builtin-configuration">3.4. Exporting the Builtin Configuration</h3>
<div class="paragraph">
<p>When working with <em>Solicitor</em> it might be necessary to get access to the builtin base configuration, e.g. for reviewing the builtin sample rules or using builtin reporting templates as starting point for the creation of own templates.</p>
</div>
<div class="paragraph">
<p>The command</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -jar solicitor.jar -ec some/directory/path</pre>
</div>
</div>
<div class="paragraph">
<p>will export all internal configuration to the given directory. This includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The base configuration file, which defines standard settings inherited by the <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_project-configuration-file">Project Configuration File</a></p>
</li>
<li>
<p>The Drools Rule Templates</p>
</li>
<li>
<p>The builtin decision tables which are referenced in the base configuration, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_standard-business-rules">Standard Business Rules</a></p>
</li>
<li>
<p>The SQL statements which are used for <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_sql-transformation-and-filtering">SQL transformation and filtering</a></p>
</li>
<li>
<p>The referenced templates for the <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_velocity-writer">Velocity Writer</a> and <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_excel-writer">Excel Writer</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_configuration-of-technical-properties">3.5. Configuration of Technical Properties</h3>
<div class="paragraph">
<p>Besides the project configuration done via the above described file there are a set of technical settings in <em>Solicitor</em> which are done via properties. <em>Solicitor</em> is implemented as a <a href="https://spring.io/projects/spring-boot">Spring Boot Application</a> and makes use
of the <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-external-config">standard configuration mechanism provided by the Spring Boot Platform</a> which provides several ways to define/override properties.</p>
</div>
<div class="paragraph">
<p>The default property values are given in <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_built-in-default-properties">Built in Default Properties</a>.</p>
</div>
<div class="paragraph">
<p>In case that a property shall be overridden when executing <em>Solicitor</em> this can easiest be done via the command line when executing
<em>Solicitor</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -Dsome.property.name1=value -Dsome.property.name2=another_value -jar solicitor.jar &lt;any other arguments&gt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_reading-license-information-with-readers">4. Reading License Information with Readers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Different Readers are available to import raw component / license information for different
technologies. This chapter describes how to setup the different build / dependency management systems to create the required input and how to configure the corresponding reader.</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_maven">4.1. Maven</h3>
<div class="paragraph">
<p>For the export of the licenses from a maven based project the license-maven-plugin is used, which can directly be called without the need to change anything in the pom.xml.</p>
</div>
<div class="paragraph">
<p>To generate the input file required for <em>Solicitor</em> the License Plugin needs to be executed with the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mvn org.codehaus.mojo:license-maven-plugin:1.14:aggregate-download-licenses -Dlicense.excludedScopes=test,provided</pre>
</div>
</div>
<div class="paragraph">
<p>The generated output file named <code>licenses.xml</code> (in the directory specified in the
plugin config) should look like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Unresolved directive in master-solicitor.asciidoc - include::files/licenses.xml[]</pre>
</div>
</div>
<div class="paragraph">
<p>In <em>Solicitor</em> the data is read with the following reader config:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
  "type" : "maven",
  "source" : "file:target/generated-resouces/licenses.xml",
  "usagePattern" : "DYNAMIC_LINKING"
} ]</pre>
</div>
</div>
<div class="paragraph">
<p>(the above assumes that <em>Solicitor</em> is executed in the maven projects main directory)</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_csv">4.2. CSV</h3>
<div class="paragraph">
<p>The CSV input is normally manually generated and should look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Unresolved directive in master-solicitor.asciidoc - include::files/csvlicenses.csv[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>In <em>Solicitor</em> the data is read with the following part of the config</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
  "type" : "csv",
  "source" : "file:path/to/the/file.csv",
  "usagePattern" : "DYNAMIC_LINKING"
} ]</pre>
</div>
</div>
<div class="paragraph">
<p>The following 5 columns need to be contained in order (separated with ";"):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>groupId</p>
</li>
<li>
<p>artifactId</p>
</li>
<li>
<p>version</p>
</li>
<li>
<p>license name</p>
</li>
<li>
<p>license URL</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally, an optional configuration can be set in order to customize the given structure of the csv file e.g.:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
  "type" : "csv",
  "source" : "file:path/to/the/file.csv",
  "usagePattern" : "DYNAMIC_LINKING",
  "configuration" : {
	"charset" = "UTF-8",
	"artifactId" : "0",
	"version" : "1",
	"format" : "EXCEL",
	"skipHeaderRecord" : "true",
	"delimiter" : ";"
  }
} ]</pre>
</div>
</div>
<div class="paragraph">
<p>The minimum of following 2 configuration settings need to be contained:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>artifactId</p>
</li>
<li>
<p>version</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With these settings one can specify the position of the value within the csv file.
Additional positional settings include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>groupId</p>
</li>
<li>
<p>license</p>
</li>
<li>
<p>licenseUrl</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If a charset needs to be specified, one can use the following option:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>charset (string, specified charset for reader e.g. UTF-8)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Furthermore, one can configure a range of other csv structure options based on the <a href="https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.Builder.html">Apache Commons CSV API</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>allowDuplicateHeaderNames (boolean)</p>
</li>
<li>
<p>allowMissingColumnNames (boolean)</p>
</li>
<li>
<p>autoFlush (boolean)</p>
</li>
<li>
<p>commentMarker (char)</p>
</li>
<li>
<p>delimiter (string)</p>
</li>
<li>
<p>escape (char)</p>
</li>
<li>
<p>ignoreEmptyLines (boolean)</p>
</li>
<li>
<p>ignoreHeaderCase (boolean)</p>
</li>
<li>
<p>ignoreSurroundingSpaces (boolean)</p>
</li>
<li>
<p>nullString (string)</p>
</li>
<li>
<p>quote (char)</p>
</li>
<li>
<p>recordSeparator (string)</p>
</li>
<li>
<p>skipHeaderRecord (boolean)</p>
</li>
<li>
<p>trailingDelimiter (boolean)</p>
</li>
<li>
<p>trim (boolean)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These configurations may also be used to overwrite options of a <a href="https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVFormat.Predefined.html">predefined format</a>, which can be set with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>format (string, predefined format e.g. EXCEL)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Important: In case that a component has multiple licenses attached, there needs to be a separate
line in the csv file for each license.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
The CSV reader currently does not fill the attribute <code>packageUrl</code>. Any functionality/reporting based on this attribute will be disfunctional for data read by the CSV reader.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_npm">4.3. NPM</h3>
<div class="paragraph">
<p>For NPM based projects, the NPM License Checker (<a href="https://www.npmjs.com/package/license-checker" class="bare">https://www.npmjs.com/package/license-checker</a>) plugin can be used. The NPM License Crawler plugin is deprecated.</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_npm-license-checker">4.3.1. NPM License Checker</h4>
<div class="paragraph">
<p>To install the NPM License Checker the following command needs to be executed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>npm i license-checker -g</pre>
</div>
</div>
<div class="paragraph">
<p>To get the licenses, the checker needs to be executed like the following example. We require JSON output here with "--json" and developer dependencies can/should be excluded with "--production".</p>
</div>
<div class="listingblock">
<div class="content">
<pre>license-checker --production --json &gt; /path/to/licenses.json</pre>
</div>
</div>
<div class="paragraph">
<p>The export should look like the following</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Unresolved directive in master-solicitor.asciidoc - include::files/licensesNpmLicenseChecker.json[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Source: <a href="https://www.npmjs.com/package/license-checker" class="bare">https://www.npmjs.com/package/license-checker</a></p>
</div>
<div class="paragraph">
<p>In <em>Solicitor</em> the data is read with the following part of the config</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
  "type" : "npm-license-checker",
  "source" : "file:path/to/licenses.json",
  "usagePattern" : "STATIC_LINKING",
  "repoType" : "npm"
} ]</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_npm-license-crawler">4.3.2. NPM License Crawler</h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
This reader is deprecated and should no longer be used. It requires a specific dependency (license-checker) which is not available on official npm repositories anymore and scans additional developer dependencies. Use <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_npm-license-checker">NPM License Checker</a> (with --production option) instead. See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_list-of-deprecated-features">List of Deprecated Features</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To install the NPM License Crawler the following command needs to be executed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>npm i npm-license-crawler -g</pre>
</div>
</div>
<div class="paragraph">
<p>To get the licenses, the crawler needs to be executed like the following example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>npm-license-crawler --dependencies --csv licenses.csv</pre>
</div>
</div>
<div class="paragraph">
<p>The export should look like the following (The csv file is "," separated)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Unresolved directive in master-solicitor.asciidoc - include::files/licenses.csv[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Source: <a href="https://www.npmjs.com/package/npm-license-crawler" class="bare">https://www.npmjs.com/package/npm-license-crawler</a></p>
</div>
<div class="paragraph">
<p>In <em>Solicitor</em> the data is read with the following part of the config</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
  "type" : "npm-license-crawler-csv",
  "source" : "file:path/to/licenses.csv",
  "usagePattern" : "STATIC_LINKING",
  "repoType" : "npm"
} ]</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_yarn">4.4. Yarn</h3>
<div class="paragraph">
<p>To generate the input file required for Solicitor, yarn needs to be executed with the following command within the directory that contains the project&#8217;s package.json (we require JSON output here):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>yarn licenses list --json &gt; /path/to/yarnlicenses.json</pre>
</div>
</div>
<div class="paragraph">
<p>The export should look like the following</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Unresolved directive in master-solicitor.asciidoc - include::files/yarnlicenses.json[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Source: <a href="https://classic.yarnpkg.com/en/docs/cli/licenses/" class="bare">https://classic.yarnpkg.com/en/docs/cli/licenses/</a></p>
</div>
<div class="paragraph">
<p>In <em>Solicitor</em> the data is read with the following part of the config</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
  "type" : "yarn",
  "source" : "file:path/to/yarnlicenses.json",
  "usagePattern" : "STATIC_LINKING",
  "repoType" : "yarn"
} ]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_pip">4.5. Pip</h3>
<div class="paragraph">
<p>To generate the input file required for Solicitor, one has to follow two steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Capsulate software with all relevant dependencies/requirements in a virtual environment (venv)</p>
</li>
<li>
<p>Install the pip-licenses plugin within this virtual environment</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>After that, we execute following command within the virtual environment to extract the input file (we require JSON output here):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>pip-licenses --from=all --format=json --with-urls --with-license-file &gt; piplicenses.json</pre>
</div>
</div>
<div class="paragraph">
<p>The export should look like the following</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Unresolved directive in master-solicitor.asciidoc - include::files/piplicenses.json[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Source: <a href="https://pypi.org/project/pip-licenses/" class="bare">https://pypi.org/project/pip-licenses/</a></p>
</div>
<div class="paragraph">
<p>In <em>Solicitor</em> the data is read with the following part of the config</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
  "type" : "pip",
  "source" : "file:path/to/piplicenses.json",
  "usagePattern" : "DYNAMIC_LINKING",
  "repoType" : "pip"
} ]</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_oss-review-toolkit-ort">4.6. OSS Review Toolkit (ORT)</h3>
<div class="paragraph">
<p>In order to use the <a href="https://github.com/oss-review-toolkit/ort#analyzer">analyzer library of ORT</a>, one must first install the software and run it to generate the result file.
The detailed way on installing ORT can be found <a href="https://github.com/oss-review-toolkit/ort#installation">here</a> and a tutorial on how to run the analyzer library can be found <a href="https://github.com/oss-review-toolkit/ort/blob/main/docs/getting-started.md#4-run-the-analyzer-on-mime-types">here</a>.</p>
</div>
<div class="paragraph">
<p>Usually, the command to run the analyzer and get extract the result file from a project looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker run -v C:\\path\\to\\project/:/project ort --info analyze -f JSON -i /project -o /project/ort/analyzer</pre>
</div>
</div>
<div class="paragraph">
<p>Note that this command only works for the installation via <a href="https://www.docker.com/">Docker</a> and that we require JSON as the output format. For other installation methods, you need to adjust the command accordingly.</p>
</div>
<div class="paragraph">
<p>It might also be necessary to set up a customized configuration for the analyzer. This can be achieved through a configuration file. The default path for that is the .ort/config/ directory below the current user&#8217;s home directory. We can place a ort.conf file there, in which we can declare various configurations e.g. allowing dynamic versions in npm components via</p>
</div>
<div class="listingblock">
<div class="content">
<pre>analyzer {
    allowDynamicVersions = true
}</pre>
</div>
</div>
<div class="paragraph">
<p>Further information about the configuration file can be found <a href="https://github.com/oss-review-toolkit/ort#configuration">here</a>.</p>
</div>
<div class="paragraph">
<p>The result file should look like the following</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Unresolved directive in master-solicitor.asciidoc - include::files/analyzer-result.json[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Source: <a href="https://github.com/oss-review-toolkit/ort#analyzer" class="bare">https://github.com/oss-review-toolkit/ort#analyzer</a></p>
</div>
<div class="paragraph">
<p>In <em>Solicitor</em> the data is read with the following part of the config</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
  "type" : "ort",
  "source" : "file:path/to/analyzer-result.json",
  "usagePattern" : "DYNAMIC_LINKING",
  "repoType" : "ort"
} ]</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
The ORT reader currently does not yet fill the attribute <code>licenseUrl</code>. Any functionality/reporting based on this attribute will be disfunctional for data read by the ORT reader.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_gradle-windows">4.7. Gradle (Windows)</h3>
<div class="paragraph">
<p>For the export of the licenses from a Gradle based project the Gradle License Plugin is used.</p>
</div>
<div class="paragraph">
<p>To install the plugin some changes need to be done in <code>build.gradle</code>, like following example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>buildscript {
  repositories {
    maven { url 'https://oss.jfrog.org/artifactory/oss-snapshot-local/' }
  }

  dependencies {
    classpath 'com.jaredsburrows:gradle-license-plugin:0.8.5-SNAPSHOT'
  }
}

apply plugin: 'java-library'
apply plugin: 'com.jaredsburrows.license'</pre>
</div>
</div>
<div class="paragraph">
<p>Afterwards execute the following command in the console:</p>
</div>
<div class="paragraph">
<p>For Windows (Java Application)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gradlew licenseReport</pre>
</div>
</div>
<div class="paragraph">
<p>The Export should look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Unresolved directive in master-solicitor.asciidoc - include::files/licenses.json[]</pre>
</div>
</div>
<div class="paragraph">
<p>Source: <a href="https://github.com/jaredsburrows/gradle-license-plugin" class="bare">https://github.com/jaredsburrows/gradle-license-plugin</a></p>
</div>
<div class="paragraph">
<p>In <em>Solicitor</em> the data is read with the following part of the config</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
  "type" : "gradle2",
  "source" : "file:path/to/licenses.json",
  "usagePattern" : "DYNAMIC_LINKING"
} ]</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
The former reader of type <code>gradle</code> is deprecated and should no longer be used. See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_list-of-deprecated-features">List of Deprecated Features</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_gradle-android">4.8. Gradle (Android)</h3>
<div class="paragraph">
<p>For the Export of the the Licenses from a Gradle based Android Projects the Gradle License Plugin is used.</p>
</div>
<div class="paragraph">
<p>To install the Plugin some changes need to be done in the build.gradle of the Project, like following example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>buildscript {
  repositories {
    jcenter()
  }

  dependencies {
    classpath 'com.jaredsburrows:gradle-license-plugin:0.8.5'
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Also there is a change in the build.gradle of the App. Add the line in the second line</p>
</div>
<div class="listingblock">
<div class="content">
<pre>apply plugin: 'com.android.application'</pre>
</div>
</div>
<div class="paragraph">
<p>Afterwards execute the following command in the Terminal of Android studio:
For Windows(Android Application)</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gradlew licenseDebugReport</pre>
</div>
</div>
<div class="paragraph">
<p>The Export is in the following folder</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$Projectfolder\app\build\reports\licenses</pre>
</div>
</div>
<div class="paragraph">
<p>It should look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Unresolved directive in master-solicitor.asciidoc - include::files/licenseDebugReport.json[]</pre>
</div>
</div>
<div class="paragraph">
<p>Source: <a href="https://github.com/jaredsburrows/gradle-license-plugin" class="bare">https://github.com/jaredsburrows/gradle-license-plugin</a></p>
</div>
<div class="paragraph">
<p>In Solicitor the Data is read with the following part of the config</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
      "type" : "gradle2",
      "source" : "file:$/input/licenses.json",
      "usagePattern" : "DYNAMIC_LINKING"
   	} ]</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
The former reader of type <code>gradle</code> is deprecated and should no longer be used. See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_list-of-deprecated-features">List of Deprecated Features</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_cyclonedx">4.9. CycloneDX</h3>
<div class="paragraph">
<p>The CycloneDX reader can read SBOMs in CycloneDX 1.4 or 1.5 format (<a href="https://cyclonedx.org/specification/overview/" class="bare">https://cyclonedx.org/specification/overview/</a>).
CDXGEN (<a href="https://github.com/CycloneDX/cdxgen" class="bare">https://github.com/CycloneDX/cdxgen</a>) is one tool which can create an SBOM in the required format.</p>
</div>
<div class="paragraph">
<p>To install CDXGEN, the following command needs to be executed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>sudo npm install -g @cyclonedx/cdxgen</pre>
</div>
</div>
<div class="paragraph">
<p>To run CDXGEN, change into the project directory containing the build file (i.e. pom.xml, package.json). For npm projects, execute "npm-install" before running CDXGEN to create a package-lock.json.</p>
</div>
<div class="paragraph">
<p>Set the FETCH_LICENSE environmental variable, to fetch the declared licenses.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>export FETCH_LICENSE=true</pre>
</div>
</div>
<div class="paragraph">
<p>Then execute the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cdxgen -o sbom.json</pre>
</div>
</div>
<div class="paragraph">
<p>The export should look like the following</p>
</div>
<div class="listingblock">
<div class="content">
<pre>xref:devonfw-guide_solicitor.wiki_files_sbom.json[devonfw-guide/solicitor.wiki_files/sbom.json]</pre>
</div>
</div>
<div class="paragraph">
<p>In Solicitor, the data is read with the following part of the config</p>
</div>
<div class="listingblock">
<div class="content">
<pre>"readers" : [ {
      "type" : "cyclonedx",
      "source" : "file:$/input/sbom.json",
      "usagePattern" : "DYNAMIC_LINKING"
      "repoType" : "maven" //or any other valid repoType
   	} ]</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
Currently, Solicitor only has packageUrlHandlers for maven, npm and pip. For all other package types, Solicitor will ignore the packageUrl.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
In the "repoType" field, only ONE type is allowed to be set. In case the SBOM contains packages of multiple types, create a separate SBOM and reader configuration for each type.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_working-with-decision-tables">5. Working with Decision Tables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Solicitor uses the Drools rule engine to execute business rules. Business rules are
defined as "extended" decision tables. Each such decision table consists of two artifacts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A rule template file in specific drools template format</p>
</li>
<li>
<p>An Excel 97 (XLS) table or CSV table which defines the decision table data.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When processing, <em>Solicitor</em> will internally use the rule template to create one or multiple rules for every record found in the Excel (or CSV) sheet.
The following points are important here:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Rule templates:</p>
<div class="ulist">
<ul>
<li>
<p>Rule templates should be regarded as part of the <em>Solicitor</em> implementation and should not be changed on an engagement level.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Excel decision table data</p>
<div class="ulist">
<ul>
<li>
<p>The file needs to be in Excel 97 format. File suffix needs to be <em>xls</em>.</p>
</li>
<li>
<p>The Excel tables might be extended or changed on a per project level.</p>
</li>
<li>
<p>The rules defined by the tabular data will have decreasing "salience" (priority) from top to bottom</p>
</li>
<li>
<p>In general multiple rules defined within a table might fire for the same data to be processed; the definition of the rules within the rule template will normally ensure that once a rule from the decision table was processed no other rule from that table will be processed for the same data</p>
</li>
<li>
<p>The excel tables contain header information in the first row which is only there for documentation purposes; the first row is completely ignored when creating rules from the xls</p>
</li>
<li>
<p>The rows starting from the second row contain decision table data</p>
</li>
<li>
<p>The first "empty" row (which does not contain data in any of the defined columns) ends the decision table</p>
</li>
<li>
<p>Decision tables might use multiple condition columns which define the data that a rule matches. Often such conditions are optional: If left free in the Excel table the condition will be omitted from the rule conditions. This allows to define very specific rules (which only fire on exact data patterns) or quite general rules which get activated on large groups of data. Defining general rules further down in the table (with lower salience/priority) ensures that more specific rules get fired earlier. This even allows to define a default rule at the end of the table which gets fired if no other rule could be applied.</p>
</li>
</ul>
</div>
</li>
<li>
<p>CSV decision table data</p>
<div class="ulist">
<ul>
<li>
<p>The file suffix needs to be <em>csv</em>.</p>
</li>
<li>
<p>The same points as for the Excel decision table data apply here.</p>
</li>
<li>
<p>The CSV has to use a comma as delimiter.</p>
</li>
<li>
<p>All values in the CSV need to be surrounded by double quotation marks to escape the comma character.</p>
</li>
</ul>
</div>
</li>
<li>
<p><em>rule groups</em>: Business rules are executed within groups. All rules resulting from a single decision table are assigned to the same <em>rule group</em>. The order of execution of the <em>rule groups</em>
is defined by the sequence of declaration in the config file. Processing of the current group will
be finished when there are no more rules to fire in that group. Processing of the next group will then start. Rule groups which have been finished processing will not be resumed even if rules within that group might have been activated again due to changes of the facts.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extended-comparison-syntax">5.1. Extended comparison syntax</h3>
<div class="paragraph">
<p>By default any conditions given in the fields of decision tables are simple textual comparisons: The condition
is true if the property of the model is identical to the given value in the XLS (or CSV) sheet.</p>
</div>
<div class="paragraph">
<p>Depending on the configuration of the rule templates for some fields, an extended syntax might be available. For those fields the following syntax applies:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the given value of the XLS (or CSV) field starts with the prefix <code>NOT:</code> then the outcome of the remaining condition is logically negated, i.e. this field condition is  <code>true</code> if the rest of the condition is NOT fulfilled.</p>
</li>
<li>
<p>A suffix of <code>(REGEX)</code> indicates that the remainder of the field defines a <a href="https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html">Java Regular Expression</a>. For the condition to become true the whole property needs to match the given regular expression.</p>
</li>
<li>
<p>The prefix <code>RANGE:</code> indicates that the remainder of the field defines
a <a href="https://maven.apache.org/ref/3.5.0/maven-artifact/apidocs/org/apache/maven/artifact/versioning/VersionRange.html#createFromVersionSpec(java.lang.String)">Maven Version Range</a>. Using this makes only sense on the artifact version property.</p>
</li>
<li>
<p>If no such prefix is detected, then the behavior is identical to the normal (verbatim) comparison logic</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Fields which are subject to this extended syntax are marked explicitly in the following section.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
The former prefix notation of <code>REGEX:</code> is deprecated and should no longer be used. See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_list-of-deprecated-features">List of Deprecated Features</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_standard-business-rules">6. Standard Business Rules</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The processing of business rules is organized in different phases. Each phase might consist of multiple decision tables to be processed in order.</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_phase-1-determining-assigned-licenses">6.1. Phase 1: Determining assigned Licenses</h3>
<div class="paragraph">
<p>In this phase the license data imported via the readers is cleaned and normalized. At the end of this phase the internal data model should clearly represent all components and their assigned licenses in normalized form.</p>
</div>
<div class="paragraph">
<p>The phase itself consists of two decision tables / rule groups:</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_decision-table-explicitly-setting-licenses">6.1.1. Decision Table: Explicitly setting Licenses</h4>
<div class="paragraph">
<p>With this decision table is is possible to explicitly assign NormalizedLicenses to components. This will be used if the imported RawLicense data is either incomplete or incorrect. Items which have been processed by rules of this group will not be reprocessed by the next rule group.</p>
</div>
<div class="paragraph">
<p>Decision table data: <code>LicenseAssignmentV2*.xls/csv</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>LHS conditions:</p>
<div class="ulist">
<ul>
<li>
<p><code>Engagement.clientName</code></p>
</li>
<li>
<p><code>Engagement.engagementName</code></p>
</li>
<li>
<p><code>Application.applicationName</code></p>
</li>
<li>
<p><code>ApplicationComponent.groupId</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>ApplicationComponent.artifactId</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>ApplicationComponent.version</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>RawLicense.origin</code> <span class="icon"><i class="icon-magic"></i></span> (new with "V2" version of rules)</p>
</li>
<li>
<p><code>RawLicense.declaredLicense</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>RawLicense.url</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
</ul>
</div>
</li>
<li>
<p>RHS result:</p>
<div class="ulist">
<ul>
<li>
<p><code>NormalizedLicense.normalizedLicenseType</code></p>
</li>
<li>
<p><code>NormalizedLicense.normalizedLicense</code></p>
</li>
<li>
<p><code>NormalizedLicense.normalizedLicenseUrl</code></p>
</li>
<li>
<p><code>NormalizedLicense.comment</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="icon"><i class="icon-magic"></i></span>: On these fields the <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extended-comparison-syntax">Extended comparison syntax</a> might be used</p>
</div>
<div class="paragraph">
<p>All RawLicenses which are in scope of fired rules will be marked so that they do not get reprocessed by the following decision table.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
With the "V2" version of rules the additional field/condition <code>origin</code> was introduced.
This can be used to fire rules only if the raw license data was obtained from a specific data source.
Its primary intention is to distinguish between data obtained via normal readers or from Scancode data.
Decision table data for the new data structure is named <code>LicenseAssignmentV2*.xls/csv</code>.
The old decision table structure <code>LicenseAssignment*.xls/csv</code> is deprecated but for compatibility reasons still supported.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_decision-table-detecting-licenses-from-imported-data">6.1.2. Decision Table: Detecting Licenses from Imported Data</h4>
<div class="paragraph">
<p>With this decision table the license info from the RawLicense is mapped to the NormalizedLicense. This is based on the name and/or URL of the license as imported via the readers.</p>
</div>
<div class="paragraph">
<p>Decision table data: <code>LicenseNameMapping*.xls/csv</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>LHS conditions:</p>
<div class="ulist">
<ul>
<li>
<p><code>RawLicense.declaredLicense</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>RawLicense.url</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
</ul>
</div>
</li>
<li>
<p>RHS result:</p>
<div class="ulist">
<ul>
<li>
<p><code>NormalizedLicense.normalizedLicenseType</code></p>
</li>
<li>
<p><code>NormalizedLicense.normalizedLicense</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="icon"><i class="icon-magic"></i></span>: On these fields the <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extended-comparison-syntax">Extended comparison syntax</a> might be used</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_phase-2-selecting-applicable-licenses">6.2. Phase 2: Selecting applicable Licenses</h3>
<div class="paragraph">
<p>Within this phase the actually applicable licenses will be selected for each component.</p>
</div>
<div class="paragraph">
<p>This phase consists of two decision tables.</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_choosing-specific-license-in-case-of-multi-licensing">6.2.1. Choosing specific License in case of Multi-Licensing</h4>
<div class="paragraph">
<p>This group of rules has the specialty that it might match to a group of NormalizedLicenses associated to an ApplicationComponent. In case that multiple licenses are associated to an ApplicationComponent one of them might be selected as "effective" license and the others might be marked as <code>Ignored</code>.</p>
</div>
<div class="paragraph">
<p>Decision table data: <code>MultiLicenseSelection*.xls/csv</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>LHS conditions:</p>
<div class="ulist">
<ul>
<li>
<p><code>ApplicationComponent.groupId</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>ApplicationComponent.artifactId</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>ApplicationComponent.version</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>NormalizedLicense.normalizedLicense</code> (licenseToTake; mandatory)</p>
</li>
<li>
<p><code>NormalizedLicense.normalizedLicense</code> (licenseToIgnore1; mandatory)</p>
</li>
<li>
<p><code>NormalizedLicense.normalizedLicense</code> (licenseToIgnore2; optional)</p>
</li>
<li>
<p><code>NormalizedLicense.normalizedLicense</code> (licenseToIgnore3; optional)</p>
</li>
</ul>
</div>
</li>
<li>
<p>RHS result</p>
<div class="ulist">
<ul>
<li>
<p>license matching "licenseToTake" will get this value assigned to <code>effectiveNormalizedLicense</code></p>
</li>
<li>
<p>licenses matching "licenseToIgnoreN" will get <code>IGNORED</code> assigned to <code>effectiveNormalizedLicenseType</code> <code>Ignored</code> assigned to <code>effectiveNormalizedLicense</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="icon"><i class="icon-magic"></i></span>: On these fields the <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extended-comparison-syntax">Extended comparison syntax</a> might be used</p>
</div>
<div class="paragraph">
<p>It is important to note that the rules only match, if all licenses given in the conditions actually exist and are assigned to the same ApplicationComponent.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_selecting--overriding-applicable-license">6.2.2. Selecting / Overriding applicable License</h4>
<div class="paragraph">
<p>The second decision table in this group is used to define the <code>effectiveNormalizedLicense</code> (if not already handled by the decision table before).</p>
</div>
<div class="paragraph">
<p>Decision table data: <code>LicenseSelection*.xls/csv</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>LHS conditions:</p>
<div class="ulist">
<ul>
<li>
<p><code>ApplicationComponent.groupId</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>ApplicationComponent.artifactId</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>ApplicationComponent.version</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>NormalizedLicense.normalizedLicenseType</code></p>
</li>
<li>
<p><code>NormalizedLicense.normalizedLicense</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>RHS result:</p>
<div class="ulist">
<ul>
<li>
<p><code>NormalizedLicense.effectiveNormalizedLicenseType</code> (if empty in the decision table then the value of <code>normalizedLicenseType</code> will be taken)</p>
</li>
<li>
<p><code>NormalizedLicense.effectiveNormalizedLicense</code> (if empty in the decision table then the value of <code>normalizedLicense</code> will be taken)</p>
</li>
<li>
<p><code>NormalizedLicense.effectiveNormalizedLicenseUrl</code> (if empty in the decision table then the value of <code>normalizedLicenseUrl</code> will be taken)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="icon"><i class="icon-magic"></i></span>: On these fields the <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extended-comparison-syntax">Extended comparison syntax</a> might be used</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_phase-3-legal-evaluation">6.3. Phase 3: Legal evaluation</h3>
<div class="paragraph">
<p>The third phase is the legal evaluation of the licenses and the check, whether OSS usage is according to defined legal policies. Again this phase comprises two decision tables.</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_pre-evaluation-based-on-common-rules">6.3.1. Pre-Evaluation based on common rules</h4>
<div class="paragraph">
<p>Within the pre evaluation the license info is checked against standard OSS usage policies. This roughly qualifies the usage and might already determine licenses which are OK in any case or which need to be further evaluated. Furthermore, they qualify whether the license text or source code needs to be included in the distribution. The rules in this decision table are only based on the <code>effectiveNormalizedLicense</code> and do not consider any project, application of component information.</p>
</div>
<div class="paragraph">
<p>Decision table data: <code>LegalPreEvaluation*.xls/csv</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>LHS condition:</p>
<div class="ulist">
<ul>
<li>
<p><code>NormalizedLicense.effectiveNormalizedLicenseType</code></p>
</li>
<li>
<p><code>NormalizedLicense.effectiveNormalizedLicense</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>RHS result:</p>
<div class="ulist">
<ul>
<li>
<p><code>NormalizedLicense.legalPreApproved</code></p>
</li>
<li>
<p><code>NormalizedLicense.copyLeft</code></p>
</li>
<li>
<p><code>NormalizedLicense.licenseCompliance</code></p>
</li>
<li>
<p><code>NormalizedLicense.licenseRefUrl</code></p>
</li>
<li>
<p><code>NormalizedLicense.includeLicense</code></p>
</li>
<li>
<p><code>NormalizedLicense.includeSource</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_final-evaluation">6.3.2. Final evaluation</h4>
<div class="paragraph">
<p>The decision table for final legal evaluation defines all rules which are needed
to create the result of the legal evaluation. Rules here might be general for all projects or even very specific to a project if the rule can not be applied to other projects.</p>
</div>
<div class="paragraph">
<p>Decision table data: <code>LegalEvaluation*.xls/csv</code></p>
</div>
<div class="ulist">
<ul>
<li>
<p>LHS condition:</p>
<div class="ulist">
<ul>
<li>
<p><code>Engagement.clientName</code></p>
</li>
<li>
<p><code>Engagement.engagementName</code></p>
</li>
<li>
<p><code>Engagement.customerProvidesOss</code></p>
</li>
<li>
<p><code>Application.applicationName</code></p>
</li>
<li>
<p><code>ApplicationComponent.groupId</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>ApplicationComponent.artifactId</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>ApplicationComponent.version</code> <span class="icon"><i class="icon-magic"></i></span></p>
</li>
<li>
<p><code>ApplicationComponent.usagePattern</code></p>
</li>
<li>
<p><code>ApplicationComponent.ossModified</code></p>
</li>
<li>
<p><code>NormalizedLicense.effectiveNormalizedLicenseType</code></p>
</li>
<li>
<p><code>NormalizedLicense.effectiveNormalizedLicense</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>RHS result:</p>
<div class="ulist">
<ul>
<li>
<p><code>NormalizedLicense.legalApproved</code></p>
</li>
<li>
<p><code>NormalizedLicense.legalComments</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="icon"><i class="icon-magic"></i></span>: On these fields the <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extended-comparison-syntax">Extended comparison syntax</a> might be used</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_amending-the-builtin-decision-tables-with-own-rules">6.4. Amending the builtin decision tables with own rules</h3>
<div class="paragraph">
<p>The standard process as described before consists of 6 decision tables / rule
groups to be processed in sequence. When using the builtin default base configuration all those decision tables use the internal sample data / rules as contained in <em>Solicitor</em>.</p>
</div>
<div class="paragraph">
<p>To use your own rule data there are three approaches:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Include your own <code>rules</code> section in the project configuration file (so not inheriting from the builtin base configuration file) and reference your own decision tables there.</p>
</li>
<li>
<p>Create your own "Solicitor Extension" which might completely redefine/replace the builtin <code>Solicitor</code> setup including all decision tables and the base configuration file. See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extending-solicitor">Extending Solicitor</a> for details.</p>
</li>
<li>
<p>Make use of the optional project specific decision tables which are defined in the default base configuration: For every builtin decision table there is an optional external decision table (expected in the filesystem) which will be checked for existence. If such external decision table exists it will be processed first - before processing the builtin decision table. Thus is it possible to amend / override the builtin rules by project specific rules. When you create the starter configuration of your project as described in <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_starting-a-new-project">Starting a new project</a>, those project specific decision tables are automatically created.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_reporting-and-creating-output-documents">7. Reporting and Creating output documents</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After applying the business rules the resulting data can can be used to create reports and
other output documents.</p>
</div>
<div class="paragraph">
<p>Creating such reports consists of three steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>transform and filter the model data by using an embedded SQL database</p>
</li>
<li>
<p>determining difference to previously stored model (optional)</p>
</li>
<li>
<p>Template based reporting via</p>
<div class="ulist">
<ul>
<li>
<p>Velocity templates (for textual output like e.g. HTML)</p>
</li>
<li>
<p>Excel templates</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_sql-transformation-and-filtering">7.1. SQL transformation and filtering</h3>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_database-structure">7.1.1. Database structure</h4>
<div class="paragraph">
<p>After the business rules have been processed (or a Solicitor data model has been loaded via
command line option <code>-l</code>) the model data is stored in a dynamically created internal SQL database.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For each type of model object a separate table is created. The tablename is the name of model object type written in uppercase characters. (E.g. type <code>NormalizedLicense</code> stored in table <code>NORMALIZEDLICENSE</code>)</p>
</li>
<li>
<p>All properties of the model objects are stored as strings in fields named like the properties within the database table. Field names are case sensitive (see note below for handling this in SQL statements).</p>
</li>
<li>
<p>An additional primary key is defined for each table, named <code>ID_&lt;TABLENAME&gt;</code>.</p>
</li>
<li>
<p>For all model elements that belong to some parent in the object hierarchy (i.e. all objects except <code>ModelRoot</code>) a foreign key field is added named <code>PARENT_&lt;TABLENAME&gt;</code> which contains the unique key of the corresponding parent</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_sql-queries-for-filtering-and-transformation">7.1.2. SQL queries for filtering and transformation</h4>
<div class="paragraph">
<p>Each Writer configuration (see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_writers-and-reporting">Writers and Reporting</a>) includes a section which references SQL select statements that are applied on the database data. The result of the SQL select statements is made accessible for the subsequent processing of the Writer via the dataTable name given in the configuration.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_postprocessing-of-data-selected-from-the-database-tables">7.1.3. Postprocessing of data selected from the database tables</h4>
<div class="paragraph">
<p>Before the result of the SQL select statement is handed over to the Writer the following postprocessing
is done:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a <code>rowCount</code> column is added to the result which gives the position of the entry in the result set (starting with 1).</p>
</li>
<li>
<p>Columns named <code>ID_&lt;TABLENAME&gt;</code> are replaced with columns named <code>OBJ_&lt;TABLENAME&gt;</code>. The fields of those columns are filled with the corresponding original model objects (java objects).</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
The result table column <code>OBJ_&lt;TABLENAME&gt;</code> gives access to the native Solicitor data model (java objects), e.g. in the Velocity writer. As this breaks the decoupling done via the SQL database using this feature is explicitly discouraged. It should only be used with high caution and in exceptional situations. The feature might be discontinued in future versions without prior notice.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_determining-difference-to-previously-stored-model">7.2. Determining difference to previously stored model</h3>
<div class="paragraph">
<p>When using the command line option <code>-d</code> <em>Solicitor</em> can determine difference information between two different data models (e.g. the difference between the licenses of the current release and a former release.) The difference is calculated on the result of the above described SQL statements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First the internal reporting database is created for the current data model and all defined SQL statements are executed</p>
</li>
<li>
<p>Then the internal database is recreated for the "old" data model and all defined SQL statements are executed again</p>
</li>
<li>
<p>Finally for each defined result table the difference between the current result and the "old" result
is calculated</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To correctly correlate corresponding rows of the two different versions of table data it is necessary to define explicit correlation keys for each table in the SQL select statement.
It is possible to define up to 10 correlation keys named <code>CORR_KEY_X</code> with X in the range from 0 to 9. <code>CORR_KEY_0</code> has highest priority, <code>CORR_KEY_9</code> has lowest priority.</p>
</div>
<div class="paragraph">
<p>The correlation algorithm will first try to match rows using <code>CORR_KEY_0</code>. It will then attempt to correlate unmatched rows using <code>CORR_KEY_1</code> e.t.c.. Correlation will stop, when</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all correlations keys <code>CORR_KEY_0</code> to <code>CORR_KEY_9</code> have been processed OR</p>
</li>
<li>
<p>the required correlation key column does not exist in the SQL select result OR</p>
</li>
<li>
<p>there are no unmatched "new" rows OR</p>
</li>
<li>
<p>there are no unmatched "old" rows</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The result of the correlation / difference calculation is stored in the reporting table data structure. For each row the status is accessible if</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The row is "new" (did not exist in the old data)</p>
</li>
<li>
<p>The row is unchanged (no changes in the field values representing the properties of the <em>Solicitor</em> data model)</p>
</li>
<li>
<p>The row is changed (at least one field corresponding to the <em>Solicitor</em> data model changed)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For each field of "changed" or "unchanged" rows the following status is available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Field is "changed"</p>
</li>
<li>
<p>Field is "unchanged"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For each field of such rows it is further on possible to access the new and the old field value.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_sample-sql-statement">7.3. Sample SQL statement</h3>
<div class="paragraph">
<p>The following shows a sample SQL statement showing some join over multiple tables and the use of
correlations keys.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="sql language-sql">Unresolved directive in master-solicitor.asciidoc - include::files/allden_normalizedlicenses.sql[]</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
Above example also shows how the case sensitive column names have to be handled within the SQL
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_writers">7.4. Writers</h3>
<div class="paragraph">
<p>The above described SQL processing is identical for all Writers. Writers only differ in the
way how the output document is created based on a template and the reporting table data
obtained by the SQL transformation.</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_velocity-writer">7.4.1. Velocity Writer</h4>
<div class="paragraph">
<p>The Velocity Writer uses the <a href="https://velocity.apache.org/">Apache Velocity Templating Engine</a>
to create text based reports. The reporting data tables created by the SQL transformation are
directly put to the into Velocity Context.</p>
</div>
<div class="paragraph">
<p>For further information see the</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Velocity Documentation</p>
</li>
<li>
<p>The <em>Solicitor</em> JavaDoc (which also includes details on how to access the diff information for rows and fields of reporting data tables)</p>
</li>
<li>
<p>The samples included in <em>Solicitor</em></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_excel-writer">7.4.2. Excel Writer</h4>
<div class="sect4">
<h5 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_using-placeholders-in-excel-spreadsheets">Using Placeholders in Excel Spreadsheets</h5>
<div class="paragraph">
<p>Within Excel spreadsheet templates there are two kinds of placeholders / markers possible, which control the processing:</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_iterator-control">Iterator Control</h5>
<div class="paragraph">
<p>The templating logic searches within the XLSX workbook for fields containing the names of the
reporting data tables as defined in the Writer configuration like e.g.:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>#ENGAGEMENT#</code></p>
</li>
<li>
<p><code>#LICENSE#</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Whenever such a string is found in a cell this indicates that this row is a template row. For each entry in the respective resporting data table a copy of this row is created and the attribute replacement will be done with the data from that reporting table. (The pattern <code>#&#8230;&#8203;#</code> will be removed when copying.)</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_attribute-replacement">Attribute replacement</h5>
<div class="paragraph">
<p>Within each row which was copied in the previous step the templating logic searches for the string pattern <code>$someAttributeName$</code> where <code>someAttributeName</code> corresponds to the column names of the reporting table. Any such occurrence is replaced with the corresponding data value.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_representation-of-diff-information">Representation of Diff Information</h5>
<div class="paragraph">
<p>In case that a difference processing (new vs. old model data) was done this will be represented
as follows when using the XLS templating:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For rows that are "new" (so no corresponding old row available) an Excel note indicating that this row is new will be attached to the field that contained the <code>#&#8230;&#8203;#</code> placeholder.</p>
</li>
<li>
<p>Fields in non-new rows that have changed their value will be marked with an Excel note indicating the old value.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_resolving-of-license-urls">8. Resolving of License URLs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Resolving of the content of license texts which are referenced by the URLs given in <code>NormalizedLicense.effectiveNormalizedLicenseUrl</code> and <code>NormalizedLicense.licenseRefUrl</code> is done in the following way:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the content is found as a resource in the classpath under <code>licenses</code> this will be taken. (The <em>Solicitor</em> application might include a set of often used license texts and thus it is not necessary to fetch those via the net.) If the classpath does not contain the content of the URL the next step is taken.</p>
</li>
<li>
<p>If the content is found as a file in subdirectory <code>licenses</code> of the current working directory this is taken. If no such file exists the content is fetched via the net. The result will be written to the file directory, so any content will only be fetched once. (The user might alter the files in that directory to change/correct its content.) A file of length zero indicates that no content could be fetched.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The determined content is available as <code>NormalizedLicense.effectiveNormalizedLicenseContent</code> and <code>NormalizedLicense.licenseRefContent</code></p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_encoding-of-urls">8.1. Encoding of URLs</h3>
<div class="paragraph">
<p>When creating the resource or filename for given URLs in the above steps the following encoding scheme will be applied to ensure that always a valid name can be created:</p>
</div>
<div class="paragraph">
<p>All "non-word" characters (i.e. characters outside the set <code>[a-zA-Z_0-9]</code>) are replaced by underscores (&#8220;_&#8221;).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_guessing-of-license-urls">9. Guessing of license URLs</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Fetching the license content <code>NormalizedLicense.effectiveNormalizedLicenseContent</code> based on the URL in <code>NormalizedLicense.effectiveNormalizedLicenseUrl</code> will often result in content which is in HTML format instead of plain text and is not properly rendered when included in reports.
Sometimes the URL even does not point to the license text itself but just the homepage of the project.
In general it is possible to manually correct this by editing the downloaded and cached content as described in the previous section. This approach might require a lot of manual work. <em>Solicitor</em> therefore includes a mechanism named license url guessing which tries to guess an alternative license URL which should point to a representation of the content better suited for rendering.</p>
</div>
<div class="paragraph">
<p>Currently license URL guessing is based solely on the URL given in <code>NormalizedLicense.effectiveNormalizedLicenseUrl</code>. It will try the following approaches:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the original URL is a Github-URL and matches patterns which are known to return HTML-formatted content then the URL is rewritten to point to a raw version of the content.</p>
</li>
<li>
<p>If the original URL points to a Github project page (not to a file), then the algorithm will try different typical locations (like e.g. looking for file <code>LICENSE</code>). If found it will return this URL as result.</p>
</li>
<li>
<p>If no "better" URL could be guessed it will return the original URL.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The result of the license URL guessing is available via three attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>NormalizedLicense.guessedLicenseUrl</code>: The (possibly) improved URL pointing to the license text.</p>
</li>
<li>
<p><code>NormalizedLicense.guessedLicenseUrlAuditInfo</code>: A text which gives info how the guessed url was determined (available for auditing purposes).</p>
</li>
<li>
<p><code>NormalizedLicense.guessedLicenseContent</code>: The content downloaded from the guessed URL</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
Downloading the license content (also including the checking if a certain resource is available when trying different possible filenames) is done using the same (caching) mechanisms as downloading the content for other URLs, see the previous section.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_caching-of-guessed-urls">9.1. Caching of guessed URLs</h3>
<div class="paragraph">
<p>The information about guessed URLs for given original URLs (also including the audit info on the guessing process) uses a caching mechanism which is mainly identical to the caching of downloaded content. The files containing the cached data are stored in directory <code>licenseurls</code> (instead of <code>licenses</code> for the content itself).</p>
</div>
<div class="paragraph">
<p>The file content looks as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>https://raw.githubusercontent.com/some/project/master/LICENSE <i class="conum" data-value="1"></i><b>(1)</b>
-------------------------                                     <i class="conum" data-value="2"></i><b>(2)</b>
URL changed from https://github.com/some/project/blob/master/LICENSE to https://raw.githubusercontent.com/some/project/master/LICENSE <i class="conum" data-value="3"></i><b>(3)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>the guessed URL</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>a line of dashes as separator</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the audit info (might be multiple lines)</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is possible to manually change this cached information and thus correct it - similar to manually correcting the license text as described above.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
License guessing is a new feature as of <code>Solicitor</code> 1.3.0.
The guessing algorithm might be modified in future versions without further notice which might result in different outcomes for the guessed URLs.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_feature-deprecation">10. Feature Deprecation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Within the lifecycle of the <em>Solicitor</em> development features might be discontinued due
to various reasons. In case that such discontinuation is expected to break existing projects
a two stage deprecation mechanism is used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Stage 1: Usage of a deprecated feature will produce a <em>warning only</em> giving details on
what needs to be changed.</p>
</li>
<li>
<p>Stage 2: When a deprecated feature is used <em>Solicitor</em> by default will terminate with an error
message giving information about the deprecation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>By setting the property <code>solicitor.deprecated-features-allowed</code> to <code>true</code>
(e.g. via the command line, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_configuration-of-technical-properties">Configuration of Technical Properties</a>), even in second stage
the feature will still be available and only a warning will be logged. The project setup should in any
case ASAP be changed to no longer use the feature as it might soon be removed without further
notice.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title=""></i>
</td>
<td class="content">
Enabling the use of deprecated feature via the above property should only be
a temporary workaround and not a standard setting.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
If usage of a feature should be discontinued immediately (e.g. because it might lead to
wrong/misleading output) the first stage of deprecation will be skipped.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_list-of-deprecated-features">10.1. List of Deprecated Features</h3>
<div class="paragraph">
<p>The following features are deprecated via the above mechanism:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reader of type "npm-license-crawler-csv" (use Reader of type "npm-license-checker" instead); Stage 1 from Version 1.4.0 on; see <a href="https://github.com/devonfw/solicitor/issues/125" class="bare">https://github.com/devonfw/solicitor/issues/125</a></p>
</li>
<li>
<p>Reader of type "gradle"  (use Reader of type "gradle2" instead); Stage 2 from Version 1.0.5 on; see <a href="https://github.com/devonfw/solicitor/issues/58" class="bare">https://github.com/devonfw/solicitor/issues/58</a></p>
</li>
<li>
<p>Reader of type "npm"; Stage 1 from Version 1.0.8 on; see <a href="https://github.com/devonfw/solicitor/issues/62" class="bare">https://github.com/devonfw/solicitor/issues/62</a></p>
</li>
<li>
<p>"REGEX:" prefix notation in rule templates (use "(REGEX)" suffix instead); Stage 1 from Version 1.3.0 on; see <a href="https://github.com/devonfw/solicitor/issues/78" class="bare">https://github.com/devonfw/solicitor/issues/78</a></p>
</li>
<li>
<p>Use of <code>LicenseAssignmentProject.xls</code> decision table (use <code>LicenseAssignmentV2Project.xls</code> instead); Stage 1 from Version 1.4.0 on</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">11. Experimental Scancode Integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Starting from version 1.4.0 <em>Solicitor</em> can be integrated with the tool <a href="https://github.com/nexB/scancode-toolkit">ScanCode</a> to include detailed information gathered from
the "deep license scan" performed by ScanCode. This includes detected Licenses, Copyrights and Notice-Files.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
The current integration with ScanCode is experimental: The used ScanCode parameters, interfacing and curations logic and all parts of the data persistence are experimental and thus might result in insufficient quality of results. The current workflow and implementation is subject to change in future versions without further notice.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_general-workflow">11.1. General workflow</h3>
<div class="paragraph">
<p>The general workflow when integrating with ScanCode consists of the following 3 steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Execute <em>Solicitor</em> in a "classic" way i.e. just based on the data provided via the Readers as described in
<a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_reading-license-information-with-readers">Reading License Information with Readers</a>. Besides the normal reports/documents generated this will also
create scripts for downloading the needed OSS source codes and run Scancode.</p>
</li>
<li>
<p>Download source codes and run ScanCode by executing the generated scripts. The downloaded sources and ScanCode results will be saved to a directory tree in the local filesystem.</p>
</li>
<li>
<p>Execute <em>Solicitor</em> a second time. For all ApplicationComponents where ScanCode information is available
(stored in the local directory tree) the license data as obtained from the Readers is replaced by this information. The data model is enriched with the found copyright and notice file information. Reports (see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_reporting-and-creating-output-documents">Reporting and Creating output documents</a>) are now based on the ScanCode data (where available).</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_prerequisites">11.2. Prerequisites</h3>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_bash">11.2.1. Bash</h4>
<div class="paragraph">
<p>The scripts generated by <em>Solicitor</em> to download sources and run ScanCode are in Bash syntax.
So either run it on a system using natively Bash (linux) or install an appropriate environment (e.g. Git Bash) if you are using a windows environment.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_scancode">11.2.2. ScanCode</h4>
<div class="paragraph">
<p>Download and install ScanCode from <a href="https://github.com/nexB/scancode-toolkit/releases" class="bare">https://github.com/nexB/scancode-toolkit/releases</a>.
Make sure that the executable is included in the search PATH for executables.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_activate-feature">11.2.3. Activate feature</h4>
<div class="paragraph">
<p>As the ScanCode integration is still experimental it is currently deactivated by default.
To enable it set system property <code>solicitor.feature-flag.scancode=true</code>.
(See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_built-in-default-properties">Built in Default Properties</a> for information how to do so.)
If this feature flag is not activated then <em>Solicitor</em> will not try to attempt to read ScanCode information from the local file system.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_detailed-workflow">11.3. Detailed workflow</h3>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_solicitor-1st-run">11.3.1. Solicitor 1st run</h4>
<div class="paragraph">
<p>Execute <em>Solicitor</em> in a classic way. As part of the report creation step this will generate two scripts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>output/scancode_PROJECTNAME.sh</code> (for downloading the sources, also calls <code>scancodeScan.sh</code>)</p>
</li>
<li>
<p><code>output/scancodeScan.sh</code> (for running ScanCode on the downloaded sources)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Scripts will include all ApplicationComponents with exception of those where <code>normalizedLicenseType</code> was set to <code>COMMERCIAL</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_download-sources-and-run-scancode">11.3.2. Download Sources and run Scancode</h4>
<div class="paragraph">
<p>Change to directory <code>output</code> and execute <code>sh scancode_PROJECTNAME.sh</code>.
This will download all sources and process them via ScanCode.
This might take several hours to complete.
Results are stored in subdirectory <code>Source</code> of the directory <code>output</code> and is organized in a tree structure given by the <a href="https://github.com/package-url/purl-spec">PackageURL</a> of the ApplicationComponents.</p>
</div>
<div class="sect4">
<h5 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_origin-file">Origin file</h5>
<div class="paragraph">
<p>The Scancode integration scripts try to download ApplicationComponent sources from default URLs derived from the PackageUrl (e.g. Maven Central). In cases where the sources are not available at these locations, the download will fail (and the subsequent source scan will be skipped). In this case it is possible to manually download the sources from some other location and store it in the directory structure. Restarting the Scancode integration script might then perform the source scan.</p>
</div>
<div class="paragraph">
<p>To be able to document the (non default) origin of the ApplicationComponent sources a file <code>origin.yaml</code> is created in the components directory in the file system. If the failed source download has been performed manually it is possible to edit this file and correct the data given in this file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="yaml language-yaml"># This file contains metadata about the orgin of the package and the sources.
# This file was automatically created but might manually be edited if the contained data is not correct
sourceDownloadUrl: https://url/pointing/to/the/source/archive.jar  <i class="conum" data-value="1"></i><b>(1)</b>
packageDownloadUrl: https://url/pointing/to/the/binary/archive.jar <i class="conum" data-value="2"></i><b>(2)</b>
# note: to add comments: write them here and remove the hash at the beginning of the line (not yet processed by Solicitor)</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>URL for downloading the sources - will be available as property <code>ApplicationComponent.sourceDownloadUrl</code> in the Solicitor data model.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>URL for downloading the binaries - will be available as property <code>ApplicationComponent.packageDownloadUrl</code> in the Solicitor data model.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The content of the file <code>origin.yaml</code> currently just affects the above given two properties, it does not affect the downloading of sources by the scripts.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_solicitor-2nd-run">11.3.3. Solicitor 2nd run</h4>
<div class="paragraph">
<p>Execute <em>Solicitor</em> a second time.
After reading the component/license information from the Readers (but before starting the rule engine)
<em>Solicitor</em> will try to look up ScanCode information from the directory tree in <code>output/Sources</code> for all processed ApplicationComponents. If information is found for an ApplicationComponent the following is done:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>License information (including URL of license text) as obtained from the Readers is replaced by the license info found by ScanCode</p>
</li>
<li>
<p>Copyrights are taken from ScanCode results</p>
</li>
<li>
<p>Info on NOTICE file is taken from the ScanCode results</p>
</li>
<li>
<p>If the ScanCode results contain information about project URLs this is stored as <code>sourceRepoUrl</code> and/or <code>ossHomepage</code></p>
</li>
<li>
<p><code>sourceDownloadUrl</code>  and <code>packageDownloadUrl</code> are set to the values given in file <code>origin.yaml</code></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_output">11.3.4. Output</h4>
<div class="paragraph">
<p>Main target of the additional information obtained from ScanCode is currently the new report <code>Attributions_PROJECTNAME.html</code> which lists</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all ApplicationComponents (excluding those which are not OSS licensed)</p>
</li>
<li>
<p>with all found copyrights</p>
</li>
<li>
<p>and all licenses</p>
</li>
<li>
<p>including all different license texts</p>
</li>
<li>
<p>and contents of all found NOTICE files</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_correcting-data">11.4. Correcting data</h3>
<div class="paragraph">
<p>The data obtained from ScanCode might be affected by false positives (wrongly detected a license or copyright) or false negatives (missed to detect a license or copyright).
To compensate such defects there are two mechanisms:
Applying Curation information from a "curations" file or changing the License information via the decision table rules.</p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_curations-file">11.4.1. Curations file</h4>
<div class="paragraph">
<p>To define curations you might create a file <code>output/curations.yaml</code> containing the following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="yaml language-yaml">artifacts:
  - name: pkg/npm/@somescope/somepackage/1.2.3                  <i class="conum" data-value="1"></i><b>(1)</b>
    url: https://github.com/foo/bar                             <i class="conum" data-value="2"></i><b>(2)</b>
    licenses:                                                   <i class="conum" data-value="3"></i><b>(3)</b>
      - license: MIT                                            <i class="conum" data-value="4"></i><b>(4)</b>
        url: https://raw.githubusercontent.com/foo/bar/LICENSE  <i class="conum" data-value="5"></i><b>(5)</b>
    copyrights:                                                 <i class="conum" data-value="6"></i><b>(6)</b>
      - (c) 2021 Donald Duck                                    <i class="conum" data-value="7"></i><b>(7)</b>
      - "(c) 2019 Mickey Mouse &lt;http://mickey.mouse&gt;"           <i class="conum" data-value="8"></i><b>(8)</b>
  - name: pkg/npm/@anotherscope/anotherpackage/4.5.6            <i class="conum" data-value="9"></i><b>(9)</b>
.
.
.</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Path of the package information as used in the file tree. Derived from the PackageURL.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>URL of the project, will be stored as <code>sourceRepoUrl</code>. (Optional: no change if not existing.)</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Licenses to set. Optional. If defined then all found licenses will be replaced by the list of licenses given here.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>SPDX identifier of license.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>URL pointing to license text.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Copyrights to set. Optional. If defined then all found copyrights will be replaced by the list of copyrights given here.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>A single copyright.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Another copyright. Note that due to YAML syntax any string containing <code>:</code> needs to be enclosed with parentheses</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Further packages to follow.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_decision-table-rules">11.4.2. Decision table rules</h4>
<div class="paragraph">
<p>As for license information obtained from the Readers the license information from ScanCode can also be altered using decision table rules. A new attribute <code>origin</code> was introduced in the <code>RawLicense</code> entity as well as condition field in decision table <code>LicenseAssignmentV2*.xls/csv</code>. The <code>origin</code> attribute in <code>Rawlicense</code> either contains the string <code>scancode</code> if the license information came from ScanCode or it contains the (lowercase) class name of the used Reader.</p>
</div>
<div class="paragraph">
<p>Using the <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extended-comparison-syntax">Extended comparison syntax</a> it is possible to qualify whether a rule should apply for licenses found by ScanCode or not:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Value of condition Origin</th>
<th class="tableblock halign-left valign-top">rule applies for &#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scancode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203; licenses obtained from ScanCode information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NOT:scancode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203; licenses obtained from normal Readers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>(empty)</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&#8230;&#8203; in both cases</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_default-base-configuration">Appendix A: Default Base Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The builtin default base configuration contains settings for the <code>rules</code> and <code>writers</code> section
of the <em>Solicitor</em> configuration file which will be used if the project specific config file omits those sections.</p>
</div>
<div class="listingblock">
<div class="title">Default Configuration</div>
<div class="content">
<pre class="highlight"><code class="json language-json">Unresolved directive in master-solicitor.asciidoc - include::files/solicitor_base.cfg[lines=23..220]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_built-in-default-properties">Appendix B: Built in Default Properties</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following lists the default settings of technical properties as given by the built in <code>application.properties</code> file.</p>
</div>
<div class="paragraph">
<p>If required these values might be overridden on the command line when starting <code>Solicitor</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -Dpropertyname1=value1 -Dpropertyname2=value2 -jar solicitor.jar &lt;any other arguments&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">application.properties</div>
<div class="content">
<pre class="highlight"><code class="properties language-properties">Unresolved directive in master-solicitor.asciidoc - include::files/application.properties[]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_reporting-templates">Appendix C: Reporting Templates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are different templates that can be used for reporting. For usage, the templates have to be specified in the writers section of the solicitor configuration file (see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_writers-and-reporting">Writers and Reporting</a>).
In the default solicitor configuration all templates are specified. (see <a href="Appendix A: Default Base Configuration.html">[Appendix A: Default Base Configuration]</a>)</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_solicitor_output_template_sample.xlsx">C.1. Solicitor_Output_Template_Sample.xlsx</h3>
<div class="paragraph">
<p>With this template a report in Excel format can be created. The spreadsheet contains data from the internal database (see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_database-structure">Database structure</a>) which can be fetched by specifying the path to the SQL statements files in the solicitor configuration file.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_solicitor_diff_template_sample.vm">C.2. Solicitor_Diff_Template_Sample.vm</h3>
<div class="paragraph">
<p>This template creates a HTML document which has a table containing the relevant data from the internal database. Cells that have been changed, compared to a previous solicitor run, are marked in a different color. For usage, the option -d &lt;filename&gt; needs to be appended with filename being saved_latest_model.json.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_solicitor_output_template_sample.vm">C.3. Solicitor_Output_Template_Sample.vm</h3>
<div class="paragraph">
<p>This template creates an HTML document which has an overview of OSS components used in the project. The data is displayed in a table with the columns:
Name, GroupId, Version, Application, License, LicenseUrl.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_solicitor_output_template_sample_v2.vm">C.4. Solicitor_Output_Template_Sample_v2.vm</h3>
<div class="paragraph">
<p>Similar to the above but uses guessed license URLs and content, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_guessing-of-license-urls">Guessing of license URLs</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_quality_report.vm">C.5. Quality_Report.vm</h3>
<div class="paragraph">
<p>This template creates an HTML document which contains OSS components that have been mapped to multiple licenses. The data is displayed in a table with the columns:
Application, OSS Name/Product, OSS ArtifactId, OSS Version, Effective Normalized Licenses, License Count.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_source_download_script.vm">C.6. Source_Download_Script.vm</h3>
<div class="paragraph">
<p>This template creates a bash script for downloading package sources for all packages where the license requires the source code to be included in the distribution.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_scancodescript.vm">C.7. ScancodeScript.vm, ScancodeScanScript.vm</h3>
<div class="paragraph">
<p>These templates create script files for downloading package sources and using <a href="https://github.com/nexB/scancode-toolkit">ScanCode</a> to do a "deep license scan"
for finding licenses, copyright information (statements, holders, authors)
and NOTICE files for each artifact within a project. See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">Experimental Scancode Integration</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
Generating these scripts is an experimental feature and might be changed or removed in future versions without any notice.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_attributions.vm">C.8. Attributions.vm</h3>
<div class="paragraph">
<p>This template creates an attributions document which lists all used OSS components with their licenses, license texts and found copyrights information as well as found information from NOTICE files.
The template is part of the <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">Experimental Scancode Integration</a> and requires ScanCode to be used to collect all necessary information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extending-solicitor">Appendix D: Extending Solicitor</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>Solicitor</code> comes with a sample rule data set and sample reporting templates. In general it will
be required to correct, supplement and extend this data sets and templates. This can be done straightforward
by creating copies of the appropriate resources (rule data XLS/CSV and template files), adopting them and further on referencing those copies instead of the original resources from the project configuration file.</p>
</div>
<div class="paragraph">
<p>Even though this approach is possible it will result in hard to maintain configurations,
especially in the case of multiple projects using <code>Solicitor</code> in parallel.</p>
</div>
<div class="paragraph">
<p>To support such scenarios <code>Solicitor</code> provides an easy extension mechanism which allows
to package all those customized configurations into a single archive and reference it from the
command line when starting <code>Solicitor</code>.</p>
</div>
<div class="paragraph">
<p>This facilitates configuration management, distribution and deployment of such extensions.</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_format-of-the-extension-file">D.1. Format of the extension file</h3>
<div class="paragraph">
<p>The extensions might be provided as JAR file or even as a simple ZIP file. There is only
one mandatory file which contains (at least metadata) about the extension and which needs
to be included in this archive <em>in the root folder</em>.</p>
</div>
<div class="listingblock">
<div class="title">application-extension.properties</div>
<div class="content">
<pre class="highlight"><code class="properties language-properties">Unresolved directive in master-solicitor.asciidoc - include::files/application-extension.properties[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This file is included via the standard Spring Boot profile mechanism. Besides containing
naming and version info on the extension this file might override any
property values defined within <code>Solicitor</code>.</p>
</div>
<div class="paragraph">
<p>Any other resources (like rule data or templates) which need to be part of the Extension
can be included in the archive as well - either in the root directory or any subdirectories.
If the extension is active those resources will be available <em>on the classpath</em> like any
resources included in the <em>Solicitor</em> jar.</p>
</div>
<div class="paragraph">
<p>Overriding / redefining the default base configuration within the Extension enables to
update all rule data and templates without the need to touch the projects configuration
file.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_activating-the-extension">D.2. Activating the Extension</h3>
<div class="paragraph">
<p>The Extension will be activated by referencing it as follows when starting <em>Solicitor</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>java -Dloader.path=path/to/the/extension.zip -jar solicitor.jar &lt;any other arguments&gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_java-extensions">D.3. Java Extensions</h3>
<div class="paragraph">
<p>It is also possible to extend the functionality of <em>Solicitor</em> within an extension by implementing Spring Beans
which implement certain interfaces. As the resources contained in the extension are included into <em>Solicitors</em>  classpath those beans
might be discovered through the Spring component scan mechanism and thus be activated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
The Spring components scanning mechanisms by default searches only in package <code>com.devonfw.tools.solicitor</code> (and subpackages). You either need to define the extension classes in these packages or create a specific configuration class in this package which has an
appropriate <code>@ComponentScan</code> annotation which points to your packages.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title=""></i>
</td>
<td class="content">
Extending Solicitor via Java is an advanced topic. Only the Interfaces given below should be used. Even those should
be regarded as unstable and might change without notice. For any details on the interfaces see the <em>Solicitor</em> source code and corresponding Javadoc.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extension-interfaces">D.3.1. Extension Interfaces</h4>
<div class="sect4">
<h5 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_com.devonfw.tools.solicitor.componentinfo.componentinfoadapter"><code>com.devonfw.tools.solicitor.componentinfo.ComponentInfoAdapter</code></h5>
<div class="paragraph">
<p>A spring bean implementing this interface might provide <code>ComponentInfo</code>/<code>LicenseInfo</code> data for <code>ApplicationComponents</code> identified
by their packageUrl. (The buildin implementation of this interface is reading such component info from scancode result files
from the local file system, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">Experimental Scancode Integration</a>.) Alternative implementations might e.g. get this information
from a corporate server or even a public service available on the internet.</p>
</div>
</div>
<div class="sect4">
<h5 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_com.devonfw.tools.solicitor.lifecycle.solicitorlifecyclelistener"><code>com.devonfw.tools.solicitor.lifecycle.SolicitorLifecycleListener</code></h5>
<div class="paragraph">
<p>Spring beans implementing this interface will be called at certain points in the <em>Solicitor</em> processing lifecycle. See the Javadoc for details. Implementations should preferably use <code>com.devonfw.tools.solicitor.lifecycle.AbstractSolicitorLifecycleListener</code> as base class which contains NOOP functionality for all methods which might be overridden as required.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_release-notes">Appendix E: Release Notes</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">Changes in 1.14.0</dt>
<dt class="hdlist1">Changes in 1.13.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/198" class="bare">https://github.com/devonfw/solicitor/issues/198</a>: Add PackageUrlHandler for nuget packages.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/191" class="bare">https://github.com/devonfw/solicitor/issues/191</a>: Refactoring of the (experimental) Scancode integration (formerly class ScancodeFileAdapter).</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/192" class="bare">https://github.com/devonfw/solicitor/issues/192</a>: References to files within the sources of a component (e.g. license or notice files)
are now returned from the Scancode adapter by a uri with schme/prefixed <code>pkgcontent:</code>. This replaces the usage of <code>file:</code> urls in this case. The same syntax needs to be used within curation data if the url pointing to license texts within the component needs to be curated.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/199" class="bare">https://github.com/devonfw/solicitor/issues/199</a>: Refactoring of Source_Download_Script.vm to use packageUrl instead of repoType.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.12.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/182" class="bare">https://github.com/devonfw/solicitor/issues/182</a>: Add new data quality and traceability attributes to the ComponentInfo data structure.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/185" class="bare">https://github.com/devonfw/solicitor/issues/185</a>: Fixed random ordering of rows in OSS-Inventory-Simple, which causes false differences to be marked.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/189" class="bare">https://github.com/devonfw/solicitor/issues/189</a>: Added a CycloneDX Reader, to enable reading SBOMs in CycloneDX 1.4 or 1.5 format.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.11.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/pull/179" class="bare">https://github.com/devonfw/solicitor/pull/179</a>: Added further name mapping rules.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/168" class="bare">https://github.com/devonfw/solicitor/issues/168</a>: Fixed NullPointerException for blank license in License URL Guessing.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.10.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/175" class="bare">https://github.com/devonfw/solicitor/issues/175</a>: Introduce new properties <code>packageDownloadUrl</code> and <code>sourceDownloadUrl</code> in <code>ApplicationComponent</code>. Process file <code>origin.yaml</code> within <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">Experimental Scancode Integration</a> to be able to set these properties to non default values.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/177" class="bare">https://github.com/devonfw/solicitor/issues/177</a>: Contents of local resources (<code>file:</code>) are no longer cached in FilesystemCachingContentProvider.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.9.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/171" class="bare">https://github.com/devonfw/solicitor/issues/171</a>: Multiple improvements in processing of ScanCode results.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/167" class="bare">https://github.com/devonfw/solicitor/issues/167</a>: Fixed a bug which prevented license URLs given in scancode curations (see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_curations-file">Curations file</a>) to be resolved properly when they point to the local file system (starting with <code>file:</code>).</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.8.1</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/164" class="bare">https://github.com/devonfw/solicitor/issues/164</a>: Fixed a bug which might result in license texts not being retrieved.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.8.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/154" class="bare">https://github.com/devonfw/solicitor/issues/154</a>: Corrected dependency declaration for solicitor-core.jar.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/156" class="bare">https://github.com/devonfw/solicitor/issues/156</a>: Included engagement name as member in class SolicitorSetup.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/158" class="bare">https://github.com/devonfw/solicitor/issues/158</a>: Include library com.auth0/java-jwt to make it available for extensions.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/160" class="bare">https://github.com/devonfw/solicitor/issues/160</a>: License texts are now included in the data model json.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/162" class="bare">https://github.com/devonfw/solicitor/issues/162</a>: Include added notice file content and license texts to the ComponentInfo interface.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.7.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/152" class="bare">https://github.com/devonfw/solicitor/issues/152</a>: Enhancements for using java code in extensions.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.6.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/146" class="bare">https://github.com/devonfw/solicitor/issues/146</a>: Fixed the bug which prevented already defined velocity macro with same name to be redefined in different template.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/135" class="bare">https://github.com/devonfw/solicitor/issues/135</a>: Introduce <code>sourceRepoUrl</code> as new property in <code>ApplicationComponent</code>. Depending on the kind of Reader either <code>ossHomepage</code> and/or <code>sourceRepoUrl</code> will be filled with data.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/149" class="bare">https://github.com/devonfw/solicitor/issues/149</a>: Added name mappings so that for all SPDX-IDs used in the name mapping the SPDX-ID itself is also recognized and formally mapped.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.5.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/6" class="bare">https://github.com/devonfw/solicitor/issues/6</a>: Fixed the bug by allowing multiple <code>NormalizedLicense</code> entries with same id per <code>ApplicationComponent</code>  if the declared license differs. This allows to assign multiple licenses of same type (e.g. MIT) to a component and also will allow multiple "UNKNOWN" licenses to be reported for the same component. Note that as a side effect additional and unexpected <code>NormalizedLicense</code> entries might now be created. This might be caused from multiple <code>LicenseAssignment*.xls</code> rules firing for different <code>RawLicense</code> entries in the same <code>ApplicationComponent</code> and resulting in identical <code>NormalizedLicense</code> id. In this case it is necessary to restrict those different rules to only fire for specific <code>RawLicense</code> entries.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.4.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/141" class="bare">https://github.com/devonfw/solicitor/issues/141</a>: Improved robustness of report generation in cases where PackageURL can not be determined (e.g. if data originates from CSV reader).</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/139" class="bare">https://github.com/devonfw/solicitor/issues/139</a>: Provide extension interface to allow reading information about components/licenses
from alternative sources. See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_extension-interfaces">Extension Interfaces</a>.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/137" class="bare">https://github.com/devonfw/solicitor/issues/137</a>: Internal restructuring of Solicitor modules which allows Solicitor code to be used as dependency in other projects.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/129" class="bare">https://github.com/devonfw/solicitor/issues/129</a>: Added spellcheck support within documentation for run-together words like camel cased ones.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/130" class="bare">https://github.com/devonfw/solicitor/issues/130</a>: Fixed a bug where the guessedLicenseUrl and guessedLicenseUrlAuditInfo fields were not filled correctly in the aggregated inventory.</p>
</li>
<li>
<p>Added reader for data generated by OSS Review Toolkit (ORT). See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_oss-review-toolkit-ort">OSS Review Toolkit (ORT)</a>.</p>
</li>
<li>
<p>Added support for API changes of new scancode release (v31) <a href="https://github.com/nexB/scancode-toolkit/releases/tag/v31.0.1" class="bare">https://github.com/nexB/scancode-toolkit/releases/tag/v31.0.1</a>.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/124" class="bare">https://github.com/devonfw/solicitor/issues/124</a>: Added documentation of '--production' option for npm-license-checker plugin.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/125" class="bare">https://github.com/devonfw/solicitor/issues/125</a>: Deprecated usage of npm-license-crawler.</p>
</li>
<li>
<p>Stability and data corruption safety for bash scripts of scancode integration.</p>
</li>
<li>
<p>Initial version of experimental scancode integration. See <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_experimental-scancode-integration">Experimental Scancode Integration</a>.</p>
</li>
<li>
<p>New decision table structure <code>LicenseAssignmentV2</code> with additional condition <code>origin</code>.
Old structure deprecated but still supported.
Migrate existing project decision tables by renaming <code>LicenseAssignmentProject.xls</code> to  <code>LicenseAssignmentV2Project.xls</code> and introducing a new (empty) column <code>Origin</code> between existing columns <code>OSS Version</code> and <code>Declared License</code>.</p>
</li>
<li>
<p>Added Solicitor Logo and code for creating variants / animation.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/117" class="bare">https://github.com/devonfw/solicitor/issues/117</a>: New attribute <code>packageUrl</code> in <code>ApplicationComponent</code>.</p>
</li>
<li>
<p>Experimental scancode-toolkit integration changed to using Bash scripting.</p>
</li>
<li>
<p>Ruleset change: For GPL/LGPL-Licenses use <code>&#8230;&#8203;-only</code>   or <code>&#8230;&#8203;-or-later</code> IDs instead
of the deprecated ones like <code>GPL-3.0</code>.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/113" class="bare">https://github.com/devonfw/solicitor/issues/113</a>:
Allow project specific writers (<code>additionalWriters</code>) to be defined without overriding default writers.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/15" class="bare">https://github.com/devonfw/solicitor/issues/15</a>:
Enable Decision Tables to be alternatively defined as CSV.
Allow dynamic determination of applicable format by specifying resource names without file extension.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/108" class="bare">https://github.com/devonfw/solicitor/issues/108</a>:
Updated spring boot framework, drools rule engine and other used components to latest versions.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/110" class="bare">https://github.com/devonfw/solicitor/issues/110</a>:
Allow an additional user guide to be extracted when using an extension.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.3.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>New report <em>ScancodeDownloadScript.vm</em> to compile copyright information using <a href="https://github.com/nexB/scancode-toolkit">ScanCode</a>.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/75" class="bare">https://github.com/devonfw/solicitor/issues/75</a>:
Added license URL guessing, see <a href="#devonfw-guide_solicitor.wiki_master-solicitor.asciidoc_guessing-of-license-urls">Guessing of license URLs</a>.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/86" class="bare">https://github.com/devonfw/solicitor/issues/86</a>:
In case that downloading content for a given URL fails no WARN message with stacktrace will be shown any more.
Instead there will be an info message (SOLI-047 or SOLI-048) indicating that the content could not be downloaded.
This change is due to the fact that failed downloads are expected - especially with the new feature license URL guessing.</p>
</li>
<li>
<p>Readers for PIP and YARN added.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/101" class="bare">https://github.com/devonfw/solicitor/issues/101</a>:
If downloaded license texts contain large amounts of html formatted content they will be replaced by a placeholder indicating the need
for cleanup. A warning message will be written in this case (SOLI-050).</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/103" class="bare">https://github.com/devonfw/solicitor/issues/103</a>:
Changed structure of Solicitor source code repository to maven multi module structure.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/7" class="bare">https://github.com/devonfw/solicitor/issues/7</a>:
Allow more flexible CSV file format within the CsvReader.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/78" class="bare">https://github.com/devonfw/solicitor/issues/78</a>: Introduce new suffix <em>(REGEX)</em> in decision
tables to mark regular expressions. Using this suffix avoids breaking any sorting when using
mixed verbatim strings and regex patterns. The old prefix syntax <em>REGEX:</em> has been deprecated.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.2.3</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/97" class="bare">https://github.com/devonfw/solicitor/issues/97</a>: Fixed the bug which made the GradleReader and GradleReader2 skip the first entry in the file.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/87" class="bare">https://github.com/devonfw/solicitor/issues/87</a>: GradleReader and GradleReader2 no longer fail when reading files that contain no entry. Actually this was due to bug <a href="https://github.com/devonfw/solicitor/issues/97" class="bare">https://github.com/devonfw/solicitor/issues/97</a>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.2.2</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Fixed bug which resulted in corrupt XLS report due to cell comment exceeding maximum allowed size.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.2.1</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/94" class="bare">https://github.com/devonfw/solicitor/issues/94</a>: Fixed by making sure that formulas get evaluated when opening the workbook with excel.</p>
</li>
<li>
<p>Fixed bug when reading saved data model for delta calculation. (<code>repoType</code> was not read correctly and resulted in always reporting a difference.)</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.2.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Added some license name mapping rules in LicenseNameMappingSample.xls.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/71" class="bare">https://github.com/devonfw/solicitor/issues/71</a>:
New "Quality Report" which might be helpful in validating the outcome of the <em>Solicitor</em> run.
Currently this report contains a list of all application components which have more than one effective license attached.
This might be helpful for spotting cases where appropriate rules for selecting the applicable license in case of dual-/multilicensing is missing.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.1.1</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>Corrected order of license name mapping which prevented Unlicense, The W3C License, WTFPL, Zlib and
Zope Public License 2.1 to be mapped.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.1.0</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/67" class="bare">https://github.com/devonfw/solicitor/issues/67</a>: Inclusion of detailed license information for the
dependencies included in the executable JAR. Use the '-eug' command line option to store this file
(together with a copy of the user guide) in the current work directory.</p>
</li>
<li>
<p>Additional rules for license name mappings in decision table LicenseNameMappingSample.xls.</p>
</li>
<li>
<p><a href="https://github.com/devonfw/solicitor/pull/61" class="bare">https://github.com/devonfw/solicitor/pull/61</a>: Solicitor can now run with Java 8 or Java 11.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.0.8</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/62" class="bare">https://github.com/devonfw/solicitor/issues/62</a>: New Reader of type <code>npm-license-checker</code>
for reading component/license data collected by NPM License Checker (<a href="https://www.npmjs.com/package/license-checker" class="bare">https://www.npmjs.com/package/license-checker</a>).
The type of the existing Reader for reading CSV data from the NPM License Crawler has been changed from <code>npm</code>
to <code>npm-license-crawler-csv</code>. (<code>npm</code> is still available but deprecated.) Projects should adopt their Reader
configuration and replace type <code>npm</code> by <code>npm-license-crawler-csv</code>.</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Changes in 1.0.7</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/devonfw/solicitor/issues/56" class="bare">https://github.com/devonfw/solicitor/issues/56</a>: Enable continuing analysis in
multiapplication projects even is some license files are unavailable.</p>
</li>
<li>
<p>Described simplified usage of license-maven-plugin without need to change pom.xml. (Documentation only)</p>
</li>
<li>
<p>Ensure consistent sorting even in case that multiple "Ignored" licenses exist for a component</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Version {project-version}-{buildNumber}<br>
Last updated 2023-09-08 11:04:59 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      
      const parseCookie = str =>
        str
        .split(';')
        .map(v => v.split('='))
        .reduce((acc, v) => {
          acc[decodeURIComponent(v[0].trim())] = decodeURIComponent(v[1].trim());
          return acc;
        }, {});
      
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      } else {
        cookies = parseCookie(document.cookie);
        if (cookies["cookie_consent"] == "accept") {
          consentGranted();
        }
      }
      
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>