<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Logging</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" integrity="sha256-M/Awbb/BYh+Rh0aGjpQid26p1b2OBsrk2k9yAvQxPV0=" crossorigin="anonymous"></script>
<!-- JQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/styles/googlecode.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/lang/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>

<!-- ************** Google analytics ************ -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>

<!-- ******************************************** -->

</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="/website/pages/explore/explore.html">EXPLORE</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">DOCS</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#guide-logging.asciidoc">Logging</a>
<ul class="sectlevel1">
<li><a href="#guide-logging.asciidoc_usage">Usage</a>
<ul class="sectlevel2">
<li><a href="#guide-logging.asciidoc_maven-integration">Maven integration</a></li>
<li><a href="#guide-logging.asciidoc_logger-access">Logger access</a></li>
<li><a href="#guide-logging.asciidoc_using-the-logger">Using the logger</a></li>
<li><a href="#guide-logging.asciidoc_configuration">Configuration</a></li>
<li><a href="#guide-logging.asciidoc_customizing-log-messages">Customizing log messages</a></li>
</ul>
</li>
<li><a href="#guide-logging.asciidoc_json-logging">JSON Logging</a></li>
<li><a href="#guide-logging.asciidoc_centralized-log-management">Centralized Log Management</a></li>
</ul>
</li>
</ul>
<h1 id="guide-logging.asciidoc" class="sect0">Logging</h1>
<div class="paragraph">
<p>Logging is the recording of messages during the execution of an application. The log messages provide information for developers or administrators that can be used to troubleshoot or maintain the application, such as errors and warnings, but also info messages such as runtime statistics that can be used for analysis.</p>
</div>
<div class="paragraph">
<p>One must distinguish between a logging API and logging implementations. A logging API provides a standardised interface, while the specific implementation is a framework that is developed against and uses the API.</p>
</div>
<div class="paragraph">
<p>Internally, Quarkus uses the JBoss Logging facade, an abstraction layer that provides support for multiple logging APIs and JBoss LogManager, which provides implementations for the specific APIs. The following logging APIs are supported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.jboss.org/hibernate/orm/current/topical/html_single/logging/Logging.html">JBoss Logging</a></p>
</li>
<li>
<p><a href="http://www.slf4j.org/">SLF4j</a></p>
</li>
<li>
<p><a href="https://commons.apache.org/proper/commons-logging/">Apache Commons Logging</a></p>
</li>
<li>
<p><a href="https://docs.oracle.com/javase/8/docs/api/java/util/logging/package-summary.html">JDK JUL (java.util.logging)</a></p>
</li>
<li>
<p><a href="https://logging.apache.org/log4j/2.x/">Log4j</a></p>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="guide-logging.asciidoc_usage">Usage</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="guide-logging.asciidoc_maven-integration">Maven integration</h3>
<div class="paragraph">
<p>We recommend using SLF4j as the logging API. Since Quarkus uses JBoss logging internally, you can use it out of the box and do not need to add any dependencies to your project to use it. JBoss LogManager will send it to the appropriate implementation.</p>
</div>
<div class="paragraph">
<p><strong>Exceptional case:</strong>
If you use a dependency in your project that has dependencies on other logging libraries like SLF4j, then you need to exclude them from the dependency and use a JBoss Logging adapter. For more information, see <a href="https://quarkus.io/guides/logging#logging-adapters">here</a>.
For example, if you have a dependency that uses SLF4j, you need to add the following dependency to your <code>pom.xml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.slf4j&lt;/groupId&gt;
    &lt;artifactId&gt;slf4j-jboss-logmanager&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div id="guide-logging.asciidoc_" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title=""></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is not needed for libraries that are dependencies of a Quarkus extension as the extension will take care of this for you.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="guide-logging.asciidoc_logger-access">Logger access</h3>
<div class="paragraph">
<p>The general pattern for accessing an instance of a logger class is to use static instances. So for SLF4j, the following lines are sufficient to create a log object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>...
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class MyClass {
    private static final Logger log = LoggerFactory.getLogger(MyClass.class);

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are use <a href="https://projectlombok.org/api/lombok/extern/slf4j/Slf4j.html">Lombok</a> in your project, you can simply add the <code>@SLF4J</code> annotation to your class. Lombok will then automatically create a logger instance that you can use in your code.</p>
</div>
</div>
<div class="sect2">
<h3 id="guide-logging.asciidoc_using-the-logger">Using the logger</h3>
<div class="paragraph">
<p>After you have created the logger instance, you can simply use one of the log methods of the corresponding object. Different logging APIs provide different methods for creating log messages. When using SLF4j, there are several methods such as <code>info</code>, <code>warn</code>, <code>error</code> that are logged depending on the log level set  (see <a href="#guide-logging.asciidoc_guide-logging.asciidoc_configuration">configuration</a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>...
public void myMethod(...) {
    log.info("your log message");
}
...</code></pre>
</div>
</div>
<div class="paragraph">
<p>For detailed documentation on the SLF4j API, see <a href="http://www.slf4j.org/manual.html">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="guide-logging.asciidoc_configuration">Configuration</h3>
<div id="configuration" class="paragraph">
<p>The are several options you can set in the <code>application.properties</code> file to configure the bahaviour of the logger. For example, to set the log level or the format of the log messages.</p>
</div>
<div class="sect3">
<h4 id="guide-logging.asciidoc_log-levels">Log levels</h4>
<div class="paragraph">
<p>Quarkus supports eight different log levels (see <a href="https://quarkus.io/guides/logging#logging-levels">here</a> for an overview). Use <code>quarkus.log.level</code> to set the default log level of the application (default is <code>INFO</code>).  To define more specific log levels, you can set different levels per category.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>quarkus.log.level=INFO
quarkus.log.category."org.hibernate".level=DEBUG</code></pre>
</div>
</div>
<div class="paragraph">
<p>This would set the default log level in your application to <code>INFO</code> and the Hibernate log level to <code>DEBUG</code>.</p>
</div>
<div class="paragraph">
<p>To understand when to use which log level, you can take a look at the <a href="https://github.com/devonfw/devon4j/blob/master/documentation/guide-logging.asciidoc#how-to-log">devon4j logging guide</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="guide-logging.asciidoc_format">Format</h4>
<div class="paragraph">
<p>To configure the output format of the log messages, set the property <code>quarkus.log.console.format</code>. Information on the supported options can be found <a href="https://quarkus.io/guides/logging#logging-format">here</a>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>quarkus.log.console.format=[D: %d] [P: %p] [C: %X] [T: %t] [L: %c] [M: %m]%n</code></pre>
</div>
</div>
<div class="paragraph">
<p>Result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[D: 2021-07-20 11:54:33,127] [P: DEBUG] [C: «MDC values»] [T: executor-thread-0] [L: my.package.MyClass] [M: log message...]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="guide-logging.asciidoc_customizing-log-messages">Customizing log messages</h3>
<div class="paragraph">
<p>You can use <a href="http://www.slf4j.org/manual.html#mdc">Mapped Diagnostic Context</a> to add custom fields to your log messages. MDC is a simple map consisting of key-value pairs to store additional useful information such as session or request ids that can be helpful when filtering log messages or debugging applications.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.slf4j.MDC;

...
public class MyClass {

    private static final Logger log = LoggerFactory.getLogger(SLF4JLoggingResource.class);

    public String myMethod() {
    	MDC.put("yourKey", "yourValue");
    	log.info("log message ...");
    }

    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Result:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>[D: 2021-07-20 11:54:33,127] [P: DEBUG] [C: {yourKey=yourValue}] [T: executor-thread-0] [L: my.package.MyClass] [M: log message...]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guide-logging.asciidoc_json-logging">JSON Logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For production environments we suggest to use JSON logs instead of plain text. The JSON output can be captured by external services for storing and analysis. To do this add the <code>quarkus-logging-json</code> extension to your project`s <code>pom.xml</code> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-logging-json&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will change the output format by default. Since it makes sense in development environments to have the output format in a human readable format, you can disable JSON logging for development (or test) environments by adding the following properties to your <code>application.properties</code> file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>%dev.quarkus.log.console.json=false
%test.quarkus.log.console.json=false</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guide-logging.asciidoc_centralized-log-management">Centralized Log Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As mentioned in the section on JSON logging, in production environments it makes sense to have a service to store and analyse the logs. For this, you can use a central log management system like <a href="https://www.graylog.org/">Graylog</a> or <a href="https://www.elastic.co/logstash/">Logstash</a> in combination with <a href="https://www.elastic.co/elasticsearch/">Elasticsearch</a>, which provides you with a powerful search engine.</p>
</div>
<div class="paragraph">
<p>For this, Quarkus provides the <code>quarkus-logging-gelf</code> extension to send the logs in the <a href="https://www.graylog.org/features/gelf">Graylog Extended Log Format (GELF)</a> to your log management system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>&lt;dependency&gt;
    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;
    &lt;artifactId&gt;quarkus-logging-gelf&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You do not have to extend your code, just configure the GELF log handler to your management system.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>quarkus.log.handler.gelf.enabled=true
quarkus.log.handler.gelf.host=tcp:localhost
quarkus.log.handler.gelf.port=12201</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html#introduction-why-should-i-use-devonfw.asciidoc">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_further-information.html">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devon4j.asciidoc_architecture.html">Architecture</a></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">Resources</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-ide-support.asciidoc.html#LICENSE.asciidoc">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script type="module">
      import { UtilsModule } from '/website/shared/utils.js';
      import { HeaderModule } from '/website/components/header/header.js';

      let searchData = { index: null, documents: null };
      UtilsModule.loadIndex(searchData);

      $(window).on('load', function() {
        const queryFun = () => {
          HeaderModule.queryFunction(searchData);
        };

        HeaderModule.searchOnClick(queryFun);
      });
    </script>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
<div class="footnote"><sub>

Last updated 2021-08-06 11:07:01 UTC
</sub></div>
</div>
</div>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
</body>
</html>