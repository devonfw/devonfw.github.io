<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Basic Selenium Grid setup in OpenShift</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc" class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://www.katacoda.com/devonfw">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>[Under construction]</em></p>
</div>
<hr>
<div class="paragraph">
<p>The purpose of the present document is to provide the basic steps carried out to setup a Selenium Grid (Hub + Nodes) in OpenShift.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Selenium is a tool to automate web browser across many platforms. It allows the automation of the testing in many different browsers, operating systems, programing laguages, or testing frameworks. (for further information pelase see <a href="#devonfw-guide/shop-floor.wiki_http://www.seleniumhq.org/">Selenium</a>)</p>
</div>
<div class="paragraph">
<p>Selenium Grid is the platform provided by Selenium in order to perform the execution of tests in parallel and in a distributed way.</p>
</div>
<div class="paragraph">
<p>It basically consists on a Selenium Server (also known as hub or simply server) which redirects the requests it receives to the appropriate node (Firefox node, Chrome node, &#8230;&#8203;) depending on how the Selenium WebDriver is configured or implemented (See <a href="#devonfw-guide/shop-floor.wiki_http://www.seleniumhq.org/docs/">Selenium Doc.</a>)</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_additional-documentacion">Additional documentacion:</h3>
<div class="ulist">
<ul>
<li>
<p><a href="#devonfw-guide/shop-floor.wiki_https://www.tutorialspoint.com/selenium/selenium_grids.htm">devonfw-guide/shop-floor.wiki_https://www.tutorialspoint.com/selenium/selenium_grids.htm</a></p>
</li>
<li>
<p><a href="#devonfw-guide/shop-floor.wiki_http://www.softwaretestinghelp.com/selenium-ide-download-and-installation-selenium-tutorial-2">devonfw-guide/shop-floor.wiki_http://www.softwaretestinghelp.com/selenium-ide-download-and-installation-selenium-tutorial-2</a></p>
</li>
<li>
<p><a href="#devonfw-guide/shop-floor.wiki_https://examples.javacodegeeks.com/enterprise-java/selenium/selenium-standalone-server-example">devonfw-guide/shop-floor.wiki_https://examples.javacodegeeks.com/enterprise-java/selenium/selenium-standalone-server-example</a></p>
</li>
<li>
<p><a href="#devonfw-guide/shop-floor.wiki_https://tripleqa.com/2016/09/26/hello-world-selenium">devonfw-guide/shop-floor.wiki_https://tripleqa.com/2016/09/26/hello-world-selenium</a></p>
</li>
<li>
<p><a href="#devonfw-guide/shop-floor.wiki_http://queirozf.com/entries/selenium-hello-world-style-tutorial">devonfw-guide/shop-floor.wiki_http://queirozf.com/entries/selenium-hello-world-style-tutorial</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_prerequisites">Prerequisites</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>OpenShift up &amp; running</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_procedure">Procedure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The present procedure is divided into two different main parts:
* First part: Selenium Hub (server) installation
* Second part: Selenium node installation (Firefox &amp; Chrome)
* Create persistent volumes for the hub and the node(s)</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_selenium-hub-installation">Selenium Hub installation</h3>
<div class="paragraph">
<p>The followed approach consists on deploying new image from the OpenShift WenConsole.</p>
</div>
<div class="paragraph">
<p>The image as well as its documentation and details can be found at <a href="#devonfw-guide/shop-floor.wiki_https://hub.docker.com/r/selenium/hub/">Selenium Hub Docker Image</a></p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_step-1-deploy-image">Step 1: Deploy Image</h4>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/hub/step1.png" alt="step1">
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_step-2-image-name">Step 2: Image Name</h4>
<div class="paragraph">
<p>As it is specified in the <a href="#devonfw-guide/shop-floor.wiki_https://hub.docker.com/r/selenium/hub/">documentation</a> <em>(selenium/hub)</em></p>
</div>
<div class="paragraph">
<p><em>(Please notice that, as it is described in the additional documentation of the above links, the server will run by default on <strong>4444</strong> port)</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/hub/step2.png" alt="step2">
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_step-3-introduce-the-appropriate-resource-name">Step 3: Introduce the appropriate resource name</h4>
<div class="paragraph">
<p><em>(selenium-hub in this case)</em></p>
</div>
<div class="paragraph">
<p><em>(No additional config. is required by the moment)</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/hub/step3a.png" alt="step3a">
</div>
</div>
<div class="paragraph">
<p>Once the image is deployed, you will be able to check &amp; review the config. of the container. Please notice by, by default, <strong>no route is created for external traffic</strong>, hence the application (the selenium server or hub) is not reachable from outside the cluster</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/hub/step3b.png" alt="step3b">
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_step-4-create-a-route-for-external-traffic">Step 4: Create a route for external traffic</h4>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/hub/step4.png" alt="step4">
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_step-5-change-the-default-config.-if-necessary">Step 5: Change the default config. if necessary</h4>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/hub/step5.png" alt="step5">
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_done-">DONE !!</h4>
<div class="paragraph">
<p>The Selenium Server is now accesible from outside the cluster. Click on the link of the route and you will be able to see the server home page.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/hub/done1.png" alt="done1">
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_consoleview-config-to-see-the-default-server-config.">console/view config to see the default server config.</h4>
<div class="paragraph">
<p>Please notice that the server is not detecting any node up &amp; running, since we have not yet installed none of them.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/hub/done2.png" alt="done2">
</div>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_selenium-node-firefox-installation">Selenium Node Firefox installation</h3>
<div class="paragraph">
<p><em>(Same steps apply for Selenium Node Chrome with the selenium/node-chrome Docker image)</em></p>
</div>
<div class="paragraph">
<p>The key point of the nodes installation is to specify the host name and port of the hub. If this step is not correctly done, the container will be setup but the application will not run.</p>
</div>
<div class="paragraph">
<p>The followed approach consists on deploying new image from the OpenShift WenConsole.</p>
</div>
<div class="paragraph">
<p>The image as well as its documentation and details can be found at <a href="#devonfw-guide/shop-floor.wiki_https://hub.docker.com/r/selenium/node-firefox/">Selenium Hub Docker Image</a> <em>(firefox node in this case)</em></p>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_step-1-deploy-image">Step 1: Deploy Image</h4>
<div class="paragraph">
<p>Introduce the appropriate Docker Image name as it is specified in the <a href="#devonfw-guide/shop-floor.wiki_https://hub.docker.com/r/selenium/node-firefox/">documentation</a> <em>(selenium/node-firefox)</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/node/step1.png" alt="step1">
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_step-2-introduce-the-appropriate-resource-name">Step 2: Introduce the appropriate resource name</h4>
<div class="paragraph">
<p><em>(selenium-node-firefox in this case)</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/node/step2.png" alt="step2">
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_step-3-introduce">Step 3: Introduce, as environment variables, the host name and port of the selenium hub previously created</h4>
<div class="paragraph">
<p><strong>Env. var. for selenium hub host name</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Name: HUB_PORT_4444_TCP_ADDR</p>
</li>
<li>
<p>Value: The Selenium hub host name. It&#8217;s recommended to use the service name of the internal OpenShift service.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Env. var. for host selenium hub host port</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Name: HUB_PORT_4444_TCP_PORT</p>
</li>
<li>
<p>Value: 4444 <em>(by default)</em>, or the appropriate one if it was changed during the installation.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/node/step3.png" alt="step3">
</div>
</div>
</div>
<div class="sect3">
<h4 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_done-">DONE !!</h4>
<div class="paragraph">
<p>If the creation of the container was correct, we will be able to see our new selenium-node-firefox application up &amp; running, as well as we will be able to see that the firefox node has correctly detected the selenium hub <em>(in the log of the POD)</em></p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/node/done1.png" alt="done1">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/node/done2.png" alt="done2">
</div>
</div>
<div class="paragraph">
<p>If we go back to the configuration of the SeleniumHub through the WebConsole, we also will be able to see the our new firefox node</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/others/selenium/node/done3.png" alt="done3">
</div>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_shop-floor.wiki_dsf-openshift-services-selenium-basic-grid.asciidoc_persistent-volumes">Persistent Volumes</h3>
<div class="paragraph">
<p>Last part of the installation of the Selenium Grid consists on creating persistent volumes for both, the hub container and the node container.</p>
</div>
<div class="paragraph">
<p>Persistent Volumes can be easely created folling the the <a href="#devonfw-guide_shop-floor.wiki_dsf-openshift-services-bitbucket-extra-server-configuration.asciidoc">BitBucket Extra server configuration</a></p>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc_introduction.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc_further-information.html">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2022-04-01 10:46:49 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      }
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>