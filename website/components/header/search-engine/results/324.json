{"type":"doc","filename":"guide-cypress.asciidoc.html","anchor":"guide-cypress.asciidoc_reporter","title":"Reporter","breadcrumbs":["Angular","Cookbook","Testing e2e with Cypress"],"text":"Reporter\n\nThe tests results appear on the terminal, but to have a more friendly view we can add a reporter.\n\n\n\n\n\n\n\nMochawesome\n\nIn this case we are going to use Mochawesome, initially its a Mocha reporter but as Cypress uses Mocha it works the same.\n\n\nInstall\n\n\nnpm\n\n\n\n\n\n\n\nyarn\n\n\n\n\n\n\n\nTo run the reporter:\n\n\n\n\n\n\n\nMochawesome saves by default the generated files on ./mochawesome-report/ but we can add options to change this behaviour.\n\n\nOptions can be passed to the reporter in two ways\n\n\nUsing a flag\n\n\n\n\n\n\n\nOr on cypress.json\n\n\n\n\n\n\n\nOverwrite:false to not overwrite every **:spec.ts test report, we want them to create a merged version later.\n\n\nreportDir to set a custom directory.\n\n\nhtml:false because we don’t need it.\n\n\njson:true to save them on json.\n\n\nMochawesome only creates the html file of the last .spec.ts file that the tests run, that’s why we don’t generate html reports directly, in order to stack them all on the same final html we need to merge the reports.\n\n\nCheck the mochawesome documentation\n\n\nmochawesome-merge\n\n\nMochawesome-merge is a library that helps us to merge the different json.\n\n\nnpm\n\n\n\n\n\n\n\nyarn\n\n\n\n\n\n\n\nTo merge the files we execute this command:\n\n\n\n\n\n\n\nreportFinal.json is the result of this merge, whit that we hace the data of all the spec files in one json.\n\n\nWe can also automate the test, merge and conversion to html using a script.\n\n\n\n\n\n\n\nfse.remove() to remove older reports data.\n\n\ncypress.run() to run the tests.\n\n\nmerge(options) we merge the jsons output from running the tests.\n\n\ngenerator.create(jsonReport) then we generate the html view of the report.\n\n\nCheck the mochawesome-merge documentation\n\n\nOn kitchensink\nyou can find an official cypress demo with all the commands being used.\n\n\n\n\n\n\n"}