<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>SAP HANA</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://www.katacoda.com/devonfw">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc">SAP HANA</a>
<ul class="sectlevel1">
<li><a href="#devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_downloadinstall-vmwaresap-hana">Download/Install VMware/SAP HANA</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_run-sap-hana-database-server">Run SAP HANA Database Server</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_setting-up-database-for-mtsj">Setting up Database for MTSJ</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_connect-to-db">Connect to DB</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_enabling-the-script-server">Enabling the script server</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_creating-a-user-on-hxe">Creating a User on HXE</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_setting-up-mtsj-java-back-end">Setting up MTSJ Java back-end</a></li>
<li><a href="#devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_enabling-prediction-usecase-in-mtsj">Enabling prediction UseCase in MTSJ</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_setting-up-mtsj-angular">Setting up MTSJ angular</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc" class="sect0">SAP HANA</h1>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_downloadinstall-vmwaresap-hana">Download/Install VMware/SAP HANA</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Download VMware Workstation Player to run SAP HANA database <a href="https://www.vmware.com/in/products/workstation-player/workstation-player-evaluation.html" class="bare">https://www.vmware.com/in/products/workstation-player/workstation-player-evaluation.html</a></p>
</li>
<li>
<p>Install VMware and open. Using VMware browse check if you can find hxe.ova file. This file is not visible through windows explorer. This is the SAP HANA Express Edition image to be run inside VMware. If available open it in VMware. Otherwise, download Download Manager for SAP HANA from the link below. It may ask to register which is a simple process.
<a href="https://www.sap.com/cmp/ft/crm-xu16-dat-hddedft/typ.html" class="bare">https://www.sap.com/cmp/ft/crm-xu16-dat-hddedft/typ.html</a></p>
</li>
<li>
<p>Run the download manager and on the screen use the defaults and click download.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_run-sap-hana-database-server">Run SAP HANA Database Server</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Once the .ova file has been opened inside VMware workstation. Click on the image and go to Edit Virtual Machine Settings. Set the memory allocation to 5GB. And Network Connection to NAT . NAT shows the IP for the virtual machine which will be used to establish JDBC connection</p>
</li>
<li>
<p>Click Play Virtual Machine. When first time the virtual machine runs it display following. Copy the IP address which will be used for JDBC connection</p>
</li>
<li>
<p>Type hxeadm, which is the username and hit Enter. Next it will ask for password which is HXEHana1. Once successfully logged in it will ask to set a new password. Choose a new password and remember.</p>
</li>
<li>
<p>You need to set Master password for SAP HANA database. Set it as you like and remember.</p>
</li>
<li>
<p>For “proceed with configuration” type y and hit Enter. HANA database has started in the background.</p>
</li>
<li>
<p>Try connecting with following command, replace the password with the master password</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>hxehost:hxeadm&gt;hdbsql
   \c -d SYSTEMDB -n localhost:39013 -u SYSTEM -p &lt;&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_setting-up-database-for-mtsj">Setting up Database for MTSJ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Once you have install SAP HANA with VMware , you need to setup the DB.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_connect-to-db">Connect to DB</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>After you start VMware, login with hxeadm as login and the password.
At the prompt  - hxehost:hxeadm&gt;hdbsql
Please note the IP address, that need to be put in MTSJ java back-end</p>
</li>
<li>
<p>On prompt hdbsql&gt; type below to connect to the DB</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>\c -d SYSTEMDB -n localhost:39013 -u SYSTEM -p &lt;password&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Type below query to see, if you have access to tenant database i.e. HXE</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>SELECT DATABASE_NAME,  ACTIVE_STATUS FROM SYS.M_DATABASES ORDER BY 1;</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_enabling-the-script-server">Enabling the script server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the below for enabling the script server</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="SQL language-SQL">ALTER DATABASE HXE ADD 'scriptserver'</code></pre>
</div>
</div>
<div class="paragraph">
<p>To check if the script server is enable, execute below statement</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="SQL language-SQL">SELECT SERVICE_NAME, PORT, ACTIVE_STATUS FROM SYS.M_SERVICES ORDER BY 1;</code></pre>
</div>
</div>
<div class="paragraph">
<p>It should see the <code>scriptserver</code> in it.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_creating-a-user-on-hxe">Creating a User on HXE</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Connect using the below</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>\c -d hxe -n localhost:39013 -u system -p &lt;password&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>To create a user</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>Create user hanauser1 password &lt;password&gt; no force_first_password_change</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Grant below permission to the user</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>GRANT AFLPM_CREATOR_ERASER_EXECUTE TO hanauser1
GRANT AFL__SYS_AFL_AFLPAL_EXECUTE TO hanauser1 – here we have 2 underscore
grant AFL__SYS_AFL_AFLPAL_EXECUTE_WITH_GRANT_OPTION to hanauser1
grant AFLPM_CREATOR_ERASER_EXECUTE to hanauser
GRANT DATA ADMIN TO hanauser1
GRANT IMPORT TO hanauser1

GRANT EXECUTE on _SYS_REPO.GRANT_ACTIVATED_ROLE TO hanauser1
GRANT EXECUTE ON system.afl_wrapper_generator to hanauser1

GRANT EXECUTE ON system.afl_wrapper_eraser to hanauser1
GRANT MODELING TO hanauser1</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Now connect to HXE tenant using below</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>\c -d hxe -n localhost:39013 -u hanauser1 -p &lt;password&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_setting-up-mtsj-java-back-end">Setting up MTSJ Java back-end</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Update application.properties file</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="properties language-properties"># update the below
`spring.flyway.locations=classpath:db/migration,classpath:db/specific/hana`
# Add the below
spring.jpa.database=default
spring.jpa.database-platform=org.hibernate.dialect.HANAColumnStoreDialect
spring.datasource.driver-class-name=com.sap.db.jdbc.Driver
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

#Comment the below
#spring.profiles.active=h2mem

spring.profiles.active=hana</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Update config/application.properties file</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="properties language-properties"># update the below
spring.flyway.locations=classpath:db/migration,classpath:db/specific/hana
spring.datasource.url=jdbc:sap://ip:port/?databaseName=hxe
spring.datasource.username=username
spring.datasource.password=password</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_enabling-prediction-usecase-in-mtsj">Enabling prediction UseCase in MTSJ</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_my-thai-star.wiki_sap-hana-guide.asciidoc_setting-up-mtsj-angular">Setting up MTSJ angular</h3>
<div class="paragraph">
<p>update the following property in config file in <code>my-thai-star\angular\src\app\core\config</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="properties language-properties">enablePrediction: true,</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Setting up data for Predictive use case, please refer to <code><a href="https://github.com/SAP/hana-my-thai-star-data-generator" class="bare">https://github.com/SAP/hana-my-thai-star-data-generator</a></code></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack#">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2022-06-20 09:13:03 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      }
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>