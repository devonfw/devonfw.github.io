<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Documentations of functions</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Lunr -->
<script src="/website/assets/scripts/lunr.min.js"></script>
<!-- JQuery -->
<script src="/website/assets/scripts/jquery.min.js"></script>
<link rel="stylesheet" href="/website/assets/styles/font-awesome.min.css">
<link rel="stylesheet" href="/website/assets/styles/googlecode.min.css">
<script src="/website/assets/scripts/highlight.min.js"></script>
<script src="/website/assets/scripts/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="/website/assets/styles/bootstrap.min.css">

<script src="/website/assets/scripts/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<script src="/website/shared/rightmenu.js"></script>

<!-- ************** Google analytics ************ -->
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}

gtag('consent', 'default', {
  'analytics_storage': 'denied'
});
</script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>
<script>
  function consentGranted() {
    gtag('consent', 'update', {
      'analytics_storage': 'granted'
    });
  }
</script>

<!-- ******************************************** -->


</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="https://devonfw.com/"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="https://devonfw.com/website/pages/learning/">Tutorials</a></p>
</li>
<li>
<p><a href="/website/pages/solutions/index.html">Solutions</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Docs</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc">Documentations of functions</a>
<ul class="sectlevel1">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_functions-for-testing-flags">1. Functions for testing flags</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doisbatch">1.1. doIsBatch</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doisdebug">1.2. doIsDebug</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doisforce">1.3. doIsForce</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doisquiet">1.4. doIsQuiet</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_functions-for-input-and-output">2. Functions for input and output</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doasktocontinue">2.1. doAskToContinue</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doconfirmwarning">2.2. doConfirmWarning</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dodebug">2.3. doDebug</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doecho">2.4. doEcho</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doechoattention">2.5. doEchoAttention</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doechointeraction">2.6. doEchoInteraction</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doechooption">2.7. doEchoOption</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doechostep">2.8. doEchoStep</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doerror">2.9. doError</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dofail">2.10. doFail</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doinfo">2.11. doInfo</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dolicenseagreement">2.12. doLicenseAgreement</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dologo">2.13. doLogo</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doquestion">2.14. doQuestion</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doresult">2.15. doResult</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dosuccess">2.16. doSuccess</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dowarning">2.17. doWarning</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_environment-checks">3. Environment Checks</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doismacos">3.1. doIsMacOs</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doiswindows">3.2. doIsWindows</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_functions-to-verify-requirements">4. Functions to verify requirements</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dorequirenotbatch">4.1. doRequireNotBatch</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dorequirewsl">4.2. doRequireWsl</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_functions-for-generic-command-execution">5. Functions for generic command execution</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dodevoncommand">5.1. doDevonCommand</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dodevoncommandallworkspaces">5.2. doDevonCommandAllWorkspaces</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dodevoncommandandreturn">5.3. doDevonCommandAndReturn</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doruncommand">5.4. doRunCommand</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_functions-for-io-operations-download">6. Functions for IO operations (download, install, backup, extract, load, save)</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dobackup">6.1. doBackup</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dobrewinstall">6.2. doBrewInstall</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dodownload">6.3. doDownload</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dodownloadinternal">6.4. doDownloadInternal</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doenvironmentproject">6.5. doEnvironmentProject</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doextract">6.6. doExtract</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doresolvedownloadurl">6.7. doResolveDownloadUrl</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dogitpullorclone">6.8. doGitPullOrClone</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doinstall">6.9. doInstall</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doinstallwithpackagemanager">6.10. doInstallWithPackageManager</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doloadproperties">6.11. doLoadProperties</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_domoveglobsafe">6.12. doMoveGlobSafe</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doopen">6.13. doOpen</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doreplaceextracted">6.14. doReplaceExtracted</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doreplaceextractedfile">6.15. doReplaceExtractedFile</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doreplaceextractedskipsinglefolder">6.16. doReplaceExtractedSkipSingleFolder</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doupdatemirrors">6.17. doUpdateMirrors</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dounzip">6.18. doUnzip</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_functions-on-system-path">7. Functions on system PATH, files, or folders</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doextendpath">7.1. doExtendPath</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dogetextension">7.2. doGetExtension</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dogetfirstexistingpath">7.3. doGetFirstExistingPath</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dogetfirstexistingpathorfail">7.4. doGetFirstExistingPathOrFail</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dogettoolfoldername">7.5. doGetToolFolderName</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doisemptydirectory">7.6. doIsEmptyDirectory</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doisignoredfolder">7.7. doIsIgnoredFolder</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doisinstallerextension">7.8. doIsInstallerExtension</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doupdatepath">7.9. doUpdatePath</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_version-handling">8. Version handling</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dochecksoftwaresecurityversion">8.1. doCheckSoftwareSecurityVersion</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_docheckversionrange">8.2. doCheckVersionRange</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dogetnextversion">8.3. doGetNextVersion</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dogetsoftwareversion">8.4. doGetSoftwareVersion</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doisdevversion">8.5. doIsDevVersion</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dolistsoftwareversions">8.6. doListSoftwareVersions</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doreportversionsecuritywarning">8.7. doReportVersionSecurityWarning</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dosetsoftwareversion">8.8. doSetSoftwareVersion</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doversioncompare">8.9. doVersionCompare</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_functions-on-workspaces">9. Functions on workspaces</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doconfigureworkspace">9.1. doConfigureWorkspace</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_docreateidescript">9.2. doCreateIdeScript</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_dorunconfigurator">9.3. doRunConfigurator</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_functions-for-maven">10. Functions for Maven</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_domavenarchetype">10.1. doMavenArchetype</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_domavengetlatestversion">10.2. doMavenGetLatestVersion</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doupgrademavenartifact">10.3. doUpgradeMavenArtifact</a></li>
</ul>
</li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_misc">11. Misc</a>
<ul class="sectlevel2">
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doarraycontainsitemwithprefix">11.1. doArrayContainsItemWithPrefix</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doispackagejsoncontainingscript">11.2. doIsPackageJsonContainingScript</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doisprefix">11.3. doIsPrefix</a></li>
<li><a href="#devonfw-guide_ide.wiki_functions.asciidoc_doparseoption">11.4. doParseOption</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="devonfw-guide_ide.wiki_functions.asciidoc" class="sect0">Documentations of functions</h1>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_functions-for-testing-flags">1. Functions for testing flags</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The functions for testing flags return <code>0</code> (true) if flag is set and <code>1</code> (false) otherwise.
The name of the flag is part of the function name.</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doisbatch">1.1. doIsBatch</h3>
<div class="paragraph">
<p>Determines if <code>batch</code> mode is active.
This mode shall be used for non-interactive usage (e.g. in automated invocations) where no user is available for interactive feedback.
It can be enabled with <code>-b</code> or <code>--batch</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doisdebug">1.2. doIsDebug</h3>
<div class="paragraph">
<p>Determines if <code>debug</code> mode is active.
This mode activates more verbose output for debugging.
It can be enabled with <code>-d</code> or <code>--debug</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doisforce">1.3. doIsForce</h3>
<div class="paragraph">
<p>Determines if <code>force</code> mode is active.
This mode enforces specific aspects such as <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doDownload">downloading</a> cached resources again or to answer <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doAskToContinue">questions to continue</a> automatically with <code>yes</code>.
It can be enabled with option <code>-f</code> or <code>--force</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doisquiet">1.4. doIsQuiet</h3>
<div class="paragraph">
<p>Determines if <code>quiet</code> mode is active.
This mode reduces the output to a minimum so information messages are suppressed.
It can be enabled with option <code>-q</code> or <code>--quiet</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_functions-for-input-and-output">2. Functions for input and output</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Output functions like <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doEcho">devonfw-guide_ide.wiki_functions.asciidoc_doEcho</a> support backslash-escaped characters, for example "\n" for new line.</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doasktocontinue">2.1. doAskToContinue</h3>
<div class="paragraph">
<p>Display a question and ask the user if he wants to continue.
In <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doIsForce">force</a> or <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doIsBatch">batch</a> mode, it will continue automatically.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Param</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">question</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The question to display. Defaults to <code>Do you want to continue?</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">return</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the user does not want to continue, this function will exit immediately by default. However, if <code>return</code> is passed the function will return 255 and the called can handle the program flow.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doconfirmwarning">2.2. doConfirmWarning</h3>
<div class="paragraph">
<p>Passes all arguments to <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doWarning">devonfw-guide_ide.wiki_functions.asciidoc_doWarning</a> to print as warning.
Then it calls <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doAskToContinue">devonfw-guide_ide.wiki_functions.asciidoc_doAskToContinue</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dodebug">2.3. doDebug</h3>
<div class="paragraph">
<p>Prints the given arguments as debug message with according coloring (in gray).
Debug messages will be printed in <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doIsDebug">debug</a> mode.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doecho">2.4. doEcho</h3>
<div class="paragraph">
<p>Prints the given arguments as regular info message.
The message will be suppressed in <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doIsQuiet">quiet</a> mode.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doechoattention">2.5. doEchoAttention</h3>
<div class="paragraph">
<p>Like <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doWarning">devonfw-guide_ide.wiki_functions.asciidoc_doWarning</a> but prefixes the message with an <code>ATTENTION</code> header.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doechointeraction">2.6. doEchoInteraction</h3>
<div class="paragraph">
<p>Prints the given arguments as interaction message with according coloring (in light blue).
An interaction message is an information or question the end-user should react to with interactive feedback.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doechooption">2.7. doEchoOption</h3>
<div class="paragraph">
<p>Prints the given arguments as option message with according coloring (in light blue).
An option message is an option the user can choose from.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doechostep">2.8. doEchoStep</h3>
<div class="paragraph">
<p>Prints the given arguments as step message with according coloring (in purple).
A step message informs about a step as part of a command or process that has been completed.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doerror">2.9. doError</h3>
<div class="paragraph">
<p>Prints the given arguments as error message with according coloring (in bright red).
An error message informs the user that something went wrong.
The coloring should help to highlight such problems.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dofail">2.10. doFail</h3>
<div class="paragraph">
<p>Prints an <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doEchoAttention">ATTENTION</a> banner.
Then it prints the first argument followed by a generic text as <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doError">error</a> message.
Then this function immediately exists the program with an error code.
The error code can be provided as second argument but <code>0</code> will be replaced with <code>1</code> and if omitted <code>255</code> is used.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doinfo">2.11. doInfo</h3>
<div class="paragraph">
<p>Prints the given arguments as info message with according coloring (in blue).
An information message is a more important message but not indicating any problem (like warning or error).</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dolicenseagreement">2.12. doLicenseAgreement</h3>
<div class="paragraph">
<p>Ensures that the end-user confirms the license agreement of <code>devonfw-ide</code> on the first usage on his machine.
If the user has already confirmed, this function will have no effect.
Otherwise it will <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doLogo">print the logo</a> followed by the license information.
This contains a link that will also be opened automatically in the web-browser.
Then <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doAskToContinue">devonfw-guide_ide.wiki_functions.asciidoc_doAskToContinue</a> is used to let the user confirm the license agreement.
If the user does not confirm or runs in <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doIsBatch">batch</a> mode this function will fail with an error message.
Otherwise, the user confirmation will be saved to <code>$DEVON_HOME_DIR/.devon/.license.agreement</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dologo">2.13. doLogo</h3>
<div class="paragraph">
<p>Prints out the devon logo with clipping if the width of the terminal is too small to prevent line-wrapping.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doquestion">2.14. doQuestion</h3>
<div class="paragraph">
<p>Passes arguments to <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doEchoInteraction">devonfw-guide_ide.wiki_functions.asciidoc_doEchoInteraction</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doresult">2.15. doResult</h3>
<div class="paragraph">
<p>Handles the result of a command.
Will print the operation (<code>$1</code>) as <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doSuccess">success</a> message if exitCode (<code>$2</code>) is <code>0</code>.
Otherwise it will pass it to <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doFail">devonfw-guide_ide.wiki_functions.asciidoc_doFail</a>.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Param</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">operation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The operation that failed or succeeded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exitCode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>0</code> for sucess, otherwise the error code.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dosuccess">2.16. doSuccess</h3>
<div class="paragraph">
<p>Prints the given arguments as success message with according coloring (in green).</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dowarning">2.17. doWarning</h3>
<div class="paragraph">
<p>Prints the given arguments as warning message with according coloring (in orange).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_environment-checks">3. Environment Checks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The functions for testing environments return <code>0</code> (true) if the operating-system matches and <code>1</code> (false) otherwise.</p>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doismacos">3.1. doIsMacOs</h3>
<div class="paragraph">
<p>Checks if  the operating system is detected as MacOs.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doiswindows">3.2. doIsWindows</h3>
<div class="paragraph">
<p>Checks if  the operating system is detected as Windows.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_functions-to-verify-requirements">4. Functions to verify requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dorequirenotbatch">4.1. doRequireNotBatch</h3>
<div class="paragraph">
<p>Uses <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doIsBatch">devonfw-guide_ide.wiki_functions.asciidoc_doIsBatch</a> to check whether the batch variable is set and, if set, issues an error message.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dorequirewsl">4.2. doRequireWsl</h3>
<div class="paragraph">
<p>Checks whether Windows Subsystem for Linux (WSL) is installed and whether it is activated and issues a corresponding message via <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doFail">devonfw-guide_ide.wiki_functions.asciidoc_doFail</a> if one of the two requirements is not met.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_functions-for-generic-command-execution">5. Functions for generic command execution</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dodevoncommand">5.1. doDevonCommand</h3>
<div class="paragraph">
<p>Calls <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doDevonCommandAndReturn">devonfw-guide_ide.wiki_functions.asciidoc_doDevonCommandAndReturn</a> and passes all the parameters.
On success it calls <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doUpdatePath">devonfw-guide_ide.wiki_functions.asciidoc_doUpdatePath</a> to ensure the PATH is updated after an installation.
On failure it will <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doAskToContinue">ask to continue</a> if not in <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doIsBatch">batch</a> mode or exit immediately with the error code.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dodevoncommandallworkspaces">5.2. doDevonCommandAllWorkspaces</h3>
<div class="paragraph">
<p>Iterates over all workspaces (sub-folders of <code>workspaces</code> folder) and executes the given commandlet in each of them.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dodevoncommandandreturn">5.3. doDevonCommandAndReturn</h3>
<div class="paragraph">
<p>Runs the commandlet at <code>$DEVON_IDE_HOME/scripts/command/$1</code> with the further given arguments.
It will automatically pass mode options like <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doIsBatch">batch</a> to the commandlet before other given arguments.
Further it <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doError">prints an error message</a> if the commandlet was not successful.
It will return with the exit code of the commandlet that has been invoked.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Param</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">commandlet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The devonfw-ide commandlet to call. E.g. <code>help</code> or <code>ide</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$2</code>-$n</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">args</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Any additional argument is passed to the specified commandlet.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doruncommand">5.4. doRunCommand</h3>
<div class="paragraph">
<p>Executes the given command (<code>$1</code>).
If a a third parameter (<code>$3</code>) is provided, it has to point to an existing directory where to command will be executed and the function will return back to the original directory afterwards.
It will use <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doResult">devonfw-guide_ide.wiki_functions.asciidoc_doResult</a> using the <code>message</code> (<code>$2</code>) to handle the result of the command execution (success or failure).</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Param</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The command to execute including all its parameters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional description of the command. Will fall back to "run command" followed by a simplification of the command (<code>$1</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional working directory where to execute the command.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_functions-for-io-operations-download">6. Functions for IO operations (download, install, backup, extract, load, save)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dobackup">6.1. doBackup</h3>
<div class="paragraph">
<p>Takes a file or directory as the first parameter and the date after which the backup directory is named that is to be created in the <code>updates/backups</code> subdirectory for the backup as the second parameter.
If the second parameter is not specified, the current date is used.
If a single file is specified in the first parameter and such a file already exists in the backup directory, then a time stamp is added to the backup directory as an additional subdirectory.
Then the backup directory is created and the files to be backed up are moved there.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dobrewinstall">6.2. doBrewInstall</h3>
<div class="paragraph">
<p>Installs a tool using homebrew.
If homebrew is installed (<code>brew</code> command found), the desired tool will be installed using <code>brew install</code>.
Otherwise, the function will fail with an error message guiding the user to install homebrew.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dodownload">6.3. doDownload</h3>
<div class="paragraph">
<p>Downloads an artifact from the internet.
If the URL is not provided as first argument, it will use the <code>mirrors</code> config to automatically determine the URL from the other arguments.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Param</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The explicit URL to download from or <code>-</code> to compute from mirrors.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dir</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional target directory where to save the downloaded file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the software to download.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The version of the software to download. May be omitted to download the latest version.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional edition of the software to install (e.g. "enterprise" or "community").</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">os</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional OS indicator ('-' if OS independent). If omitted the OS will be determined automatically.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">arch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional architecture (e.g. x86_64).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ext</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional extension (e.g. 'tar.gz' or 'zip').</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$9</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">filename</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional filename to save the downloaded file to.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dodownloadinternal">6.4. doDownloadInternal</h3>
<div class="paragraph">
<p>Takes the URL as the first parameter, a temporary name for the file to be downloaded as the second, and the target directory in which the file is to be stored as the third parameter.
Optionally, the name of the downloaded file can be given as a fourth parameter.
If this does not happen, the name is determined from the URL.
If the file exists and the force option was not specified, the function ends with a corresponding message and the return value 255.
Otherwise the file is downloaded and, if successful, moved to the target directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doenvironmentproject">6.5. doEnvironmentProject</h3>
<div class="paragraph">
<p>Loads all <code>devon.properties</code> via <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doLoadProperties">devonfw-guide_ide.wiki_functions.asciidoc_doLoadProperties</a>.
If the first argument is not empty (set to <code>export</code>) it will export all the properties.
Also it sets the environment variables <code>DEVON_HOME_DIR</code>, <code>WORKSPACE</code>, and <code>WORKSPACE_PATH</code>.
Finally, it updates the <code>PATH</code> variable via <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doUpdatePath">devonfw-guide_ide.wiki_functions.asciidoc_doUpdatePath</a> and exports it.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doextract">6.6. doExtract</h3>
<div class="paragraph">
<p>Takes the file to be extracted and possibly a path to where it should be extracted.
Then the right tool is selected based on the file extension and the file is unzipped.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doresolvedownloadurl">6.7. doResolveDownloadUrl</h3>
<div class="paragraph">
<p>Function for additional custom logic when resolving the download URL.
The <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doDownload">devonfw-guide_ide.wiki_functions.asciidoc_doDownload</a> function resolves standard variables like <code>version</code>, <code>os</code>, <code>arch</code>, and <code>ext</code> automatically in URLs from <code>mirrors</code> repository config.
However, for special cases this is insufficient as some tools do not follow best-pratices for consistent and systematic download URLs.
Therefore <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doDownload">devonfw-guide_ide.wiki_functions.asciidoc_doDownload</a> will call this function to further resolve the computed download URL.
By default this function does nothing but echoing the given URL (<code>$1</code>).
However, a commandlet may override this function after souring <code>functions</code> in order to define custom logic for URL resolving.
When required, we typically resolve a <code>code</code> variable that can be derived from the arguments given to this function.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Param</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The download URL with standard variables resolved.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The resolved version to download.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">os</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The resolved/mapped operating system.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">arch</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The resolved/mapped architecture (e.g. x86_64).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional edition of the software to install (e.g. "enterprise" or "community").</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dogitpullorclone">6.8. doGitPullOrClone</h3>
<div class="paragraph">
<p>Takes the target path and the URL or URL#branch as parameters.
If the directory is a Git repository, it is tested whether remote repositories are configured and, if so, a git pull is performed.
If not, a corresponding message is output and the function is ended with a return value of 1.
If the directory is not a Git repository and no URL was specified, the function is aborted with a doFail message.
However, if a URL was specified, the specified directory is created, changed to the directory and the repository of the specified URL is cloned into the specified directory.
If the branch was also specified in the URL, a checkout is carried out on this branch.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doinstall">6.9. doInstall</h3>
<div class="paragraph">
<p>Ensures a specific version of a software is installed.
If no fixed version is given, it resolves the final version (if version is empty use latest, in case of version prefix use latest matching version).
In case the software is already installed in the resolved version, return <code>1</code>.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Param</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">software</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the software to install.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The version of the software to install. May be omitted to install the latest version.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">silent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional silent flag ('silent' to suppress output if already up-to-date or empty for version output).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$4</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional edition of the software to install (e.g. "enterprise" or "community").</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$5</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The absolute target path where to install the software.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$6</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">os</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional OS indicator ('-' if OS independent). If omitted the OS will be determined automatically.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">noUnpack</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional argument to ignore extracting downloaded files (use 'noUnpack' or leave empty to extract)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$8</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">repo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional software repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$9</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">url</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The optional download URL.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doinstallwithpackagemanager">6.10. doInstallWithPackageManager</h3>
<div class="paragraph">
<p>Called with a list of installation options for various (non windows) operating systems.
For each provided installer option it will check if that installer (e.g. <code>apt-get</code>, <code>yum</code>, <code>apk</code>, <code>brew</code>) is present.
If present, it will call that option with <code>sudo</code> and return.
In case none of the provided installer options could be executed, it will fail with an according error message.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doloadproperties">6.11. doLoadProperties</h3>
<div class="paragraph">
<p>Loads a <code><strong>.properties</code> file given as first argument into variables of the bash context.
The second argument allows to specify an optional prefix for the variables to load.
So e.g. if the properties file contains <code>foo=bar</code> and seconds argument is <code>some_</code> it will result in the variable assignment <code>some_foo=bar</code>.
In case the third argument is not empty, then all variables will be exported.
*ATTENTION:</strong> This function is defined in the file <code>environment-project</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_domoveglobsafe">6.12. doMoveGlobSafe</h3>
<div class="paragraph">
<p>Moves the file specified as the second parameter after checking whether it exists to the target specified in parameter one and outputs the performed action via doEcho.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doopen">6.13. doOpen</h3>
<div class="paragraph">
<p>Opens the URL passed to it in the browser window or calls the specified program under Windows or MacOS.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doreplaceextracted">6.14. doReplaceExtracted</h3>
<div class="paragraph">
<p>Prepares to move an unpacked archive (specified in the first parameter).
The current date is defined as the name for the backup directory of the currently installed software.
Then it is checked whether the target directory (specified in the second parameter) corresponds to DEVON_IDE_HOME.
If it does not correspond to DEVON_IDE_HOME, the function doReplaceExtractedSkipSingleFolder is called and the parameters archive directory, target directory, backup directory and the specification that all files in the archive directory are to be processed are passed.
If the target directory is DEVON_IDE_HOME, which corresponds to the complete devonfw IDE installation, then all files and directories, except the workspaces directory, are passed in a loop to the doReplaceExtractedFile function as the first parameter, the second parameter specifies the target directory with the corresponding subdirectory names and the third Parameter is the backup directory.
Attention: for one installation package the function doReplaceExtractedSkipSingleFolder is called, while in the other case the function doReplaceExtractedFile is called in a loop.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doreplaceextractedfile">6.15. doReplaceExtractedFile</h3>
<div class="paragraph">
<p>Called with the three parameters path of the file or directory to be moved, the target directory and a backup directory.
The function creates missing directories, makes a backup from the target directory to the backup directory.
Then the files specified in the first parameter are moved to the target directory.
Finally, the <a href="#devonfw-guide_ide.wiki_migration.asciidoc">migration script</a> is run to migrate the ide to the latest version.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doreplaceextractedskipsinglefolder">6.16. doReplaceExtractedSkipSingleFolder</h3>
<div class="paragraph">
<p>The parameters source directory, target directory, backup directory and possibly a list of files and directories via shell file name expansion (globbing) are passed to the doReplaceExtractedSkipSingleFolder function.
The first three parameters are taken directly into variables and removed from the list of passed parameters with the shift so that the last specification can be viewed as a whole.
If the last parameter is a single directory and, on MacOS, not a directory with a name like *.app, it is taken as the source directory.
Then the function doReplaceExtractedFile is called with the saved parameters, with source directory, target directory and backup directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doupdatemirrors">6.17. doUpdateMirrors</h3>
<div class="paragraph">
<p>Uses <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doGitPullOrClone">devonfw-guide_ide.wiki_functions.asciidoc_doGitPullOrClone</a> to clone or pull <code>mirrors</code> ensuring that everything is up-to-date.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dounzip">6.18. doUnzip</h3>
<div class="paragraph">
<p>Checks if an unzip program is installed, and if not, installs the program.
The file specified in the first parameter is then unpacked into the directory specified in the second parameter.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_functions-on-system-path">7. Functions on system PATH, files, or folders</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doextendpath">7.1. doExtendPath</h3>
<div class="paragraph">
<p>Takes a directory as a parameter.
The function then checks whether the "bin" subdirectory exists in the transferred directory.
If the directory exists, the PATH variable is extended by this "bin" directory.
Otherwise the PATH variable is expanded with the passed directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dogetextension">7.2. doGetExtension</h3>
<div class="paragraph">
<p>Takes a file name as a parameter, including the path, and returns the file extension as the result.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dogetfirstexistingpath">7.3. doGetFirstExistingPath</h3>
<div class="paragraph">
<p>Takes a list of directories as a parameter and then checks in the specified order until one of the specified directories exists.
This directory is then output and the function ends with the return value 0.
If none of the passed directories exist, the function ends with the return value 1.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dogetfirstexistingpathorfail">7.4. doGetFirstExistingPathOrFail</h3>
<div class="paragraph">
<p>Takes a list of directories as a parameter and then checks in the
specified sequence until one of the specified directories exists.
This directory is then output and the function ends with the return value 0.
If none of the directories passed exist, the doFail function is called with a corresponding message.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dogettoolfoldername">7.5. doGetToolFolderName</h3>
<div class="paragraph">
<p>Takes the name or path to a commandlet and prints the corresponding folder name in <code>mirrors</code> or <code>software</code>.
E.g. for <code>mvn</code> or <code>scripts/command/mvn</code> it will print <code>maven</code>.
For <code>java</code> it will simply print <code>java</code>.
Usage: <code>folder=$(doGetToolFolderName "${tool}")</code></p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doisemptydirectory">7.6. doIsEmptyDirectory</h3>
<div class="paragraph">
<p>Checks whether the directory passed as a parameter is empty.
If the directory is empty, the return value is 0, otherwise 1.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doisignoredfolder">7.7. doIsIgnoredFolder</h3>
<div class="paragraph">
<p>Checks whether the directory that is passed to it as a parameter corresponds to the directory target, eclipse-target, node_modules, .git, or .svn and returns the return code 0 otherwise 255.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doisinstallerextension">7.8. doIsInstallerExtension</h3>
<div class="paragraph">
<p>Checks whether the file extension of the file specified in the parameter is an executable file, i.e.
.exe .msi .pkg or .bat.
If so, the function returns 0, otherwise 255.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doupdatepath">7.9. doUpdatePath</h3>
<div class="paragraph">
<p>Updates the PATH variable according to the latest tools installed in the <code>software</code> folder.
<strong>ATTENTION:</strong> This function is defined in the file <code>environment-project</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_version-handling">8. Version handling</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dochecksoftwaresecurityversion">8.1. doCheckSoftwareSecurityVersion</h3>
<div class="paragraph">
<p>Determines whether the actual version is contained in the security file for the corresponding tool and print out a message if so.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_docheckversionrange">8.2. doCheckVersionRange</h3>
<div class="paragraph">
<p>Determines whether a version is in a version range.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dogetnextversion">8.3. doGetNextVersion</h3>
<div class="paragraph">
<p>A version number is passed to the function doGetNextVersion as an argument and the next version number is generated from this by incrementing the last digit by one and outputs it.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dogetsoftwareversion">8.4. doGetSoftwareVersion</h3>
<div class="paragraph">
<p>Determines the currently installed version of a software and prints it out for the end-user.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Param</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">software</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The software tool to check (e.g. <code>maven</code> or <code>java</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">version_cmd</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The command to determine the version via the software. Maybe <code>-</code> if the software is a regular installation but does not support this.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">commandlet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The commandlet corresponding to the software. Typically the same as <code>$1</code> but may differ (e.g. <code>mvn</code> instead of <code>maven</code>). Only used for log messages to assist end-user.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doisdevversion">8.5. doIsDevVersion</h3>
<div class="paragraph">
<p>Checks whether one of the two values "dev-SNAPSHOT" or "0-SNAPSHOT" was passed to it as a parameter.
If this is the case, it ends with the return value <code>0</code> otherwise <code>1</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dolistsoftwareversions">8.6. doListSoftwareVersions</h3>
<div class="paragraph">
<p>Takes the name of the tool as a parameter and displays the available versions.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doreportversionsecuritywarning">8.7. doReportVersionSecurityWarning</h3>
<div class="paragraph">
<p>Prints out a message on version security alerts.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dosetsoftwareversion">8.8. doSetSoftwareVersion</h3>
<div class="paragraph">
<p>Used to set a specific version of a software tool, and requires 2 parameters: the name of the software tool and the desired version.
The version is saved as <code>tool_VERSION</code> variable in <code>settings/devon.properties</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doversioncompare">8.9. doVersionCompare</h3>
<div class="paragraph">
<p>Two version numbers are passed to the doVersionCompare function as parameters.
If the versions are equal, the function returns 0, if the first version is higher than the second, returns 1, and if the second version is higher than the first, the function returns 2.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_functions-on-workspaces">9. Functions on workspaces</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doconfigureworkspace">9.1. doConfigureWorkspace</h3>
<div class="paragraph">
<p>Runs the configurator using <a href="#devonfw-guide_ide.wiki_functions.asciidoc_doRunConfigurator">devonfw-guide_ide.wiki_functions.asciidoc_doRunConfigurator</a> to configure a workspace.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_docreateidescript">9.2. doCreateIdeScript</h3>
<div class="paragraph">
<p>Creates a launch script for the IDE given as first argument (e.g. <code>eclipse</code>) and the configured workspace (<code>$WORKSPACE</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_dorunconfigurator">9.3. doRunConfigurator</h3>
<div class="paragraph">
<p>Runs the given Java class from the configurator (jar files in <code>lib</code>) with the given arguments.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_functions-for-maven">10. Functions for Maven</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_domavenarchetype">10.1. doMavenArchetype</h3>
<div class="paragraph">
<p>Calls maven to generate archetype (project template) for the given parameters.
Uses <code>$ARCHETYPE_GROUP_ID</code> and <code>$ARCHETYPE_ARTIFACT_ID</code> that default to devon4j template.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_domavengetlatestversion">10.2. doMavenGetLatestVersion</h3>
<div class="paragraph">
<p>The doMavenGetLatestVersion function looks in the artifact repository specified in the (url) parameter for the latest version of the software stored there.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doupgrademavenartifact">10.3. doUpgradeMavenArtifact</h3>
<div class="paragraph">
<p>The function doUpgradeMavenArtifact first looks in the target directory to see if it is a git repository and then carries out a doGitPullOrClone if necessary and then terminates the function.
If the target directory is not a git repository and LATEST was specified as the fourth parameter for the target version, then the latest target version of the Maven artifact (parameter 3) is determined under the url (parameter 2).
Now the current version (parameter 6) is compared with the desired target version, and if it is the same or if the current version is greater than the target version, the function aborts with a corresponding message.
If the target version is larger than the current version, the software is installed in the target version in the target directory (parameter 1).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devonfw-guide_ide.wiki_functions.asciidoc_misc">11. Misc</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doarraycontainsitemwithprefix">11.1. doArrayContainsItemWithPrefix</h3>
<div class="paragraph">
<p>An array is defined from a number of elements, with the last element being defined as a prefix.
The function doArrayContainsItemWithPrefix now checks the array if it contains elements that start with this prefix.
If this is the case, the function ends with the return value 0, otherwise with 1.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doispackagejsoncontainingscript">11.2. doIsPackageJsonContainingScript</h3>
<div class="paragraph">
<p>Checks whether the module passed with the first parameter is contained in the package package.json.
If so, then it ends with the return value 0 otherwise with a message and the return value 255.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doisprefix">11.3. doIsPrefix</h3>
<div class="paragraph">
<p>Checks if the first arg is a prefix of the second arg.
E.g. <code>doIsPrefix "foo/bar" "foo/bar/some"</code> will be true but <code>doIsPrefix "/foo/bar" "foo/bar/some"</code> will be false.</p>
</div>
</div>
<div class="sect2">
<h3 id="devonfw-guide_ide.wiki_functions.asciidoc_doparseoption">11.4. doParseOption</h3>
<div class="paragraph">
<p>Checks whether the parameter passed to it</p>
</div>
<div class="ulist">
<ul>
<li>
<p>is one of the options -b, -f, -d or -q and accordingly sets the associated variable batch, force, debug or quiet and terminates the function with the return value 0.</p>
</li>
<li>
<p>is the option version.
In this case, it does the handling to <code>list</code>, <code>get</code>, or <code>set</code> the version and exits the program.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If&#8201;&#8212;&#8201;is passed, a variable is set that prevents further calls of this function and ends with the return value 0.
If none of these options are passed, the return value is 255.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/welcome/welcome.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_introduction-why-should-i-use-devonfw.asciidoc_features.html">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html#devonfw-guide_devon4j.wiki_architecture.asciidoc_technology-stack">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_getting-started.wiki_getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-guide_ide.wiki_devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devonfw-guide_general_master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-guide_ide.wiki_LICENSE.asciidoc.html">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script src="/website/assets/scripts/popper.min.js"></script>
    <script src="/website/assets/scripts/bootstrap.min.js"></script>
<div class="footnote"><sub>

Last updated 2023-09-08 11:02:50 UTC
</sub></div>
</div>
</div>
<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script async src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
<script>
      let cookieName = 'cookie_consent';
      let expiryTime = new Date(2037, 11, 21);
      let today = new Date();
      let cookieConsentDeclinedDate = localStorage.getItem("cookie_consent_declined");
      let dateDiffHours = 0;
      let cookieConsentHtml = `
      <div id="cookie-consent">
        <p>
          We use cookies to perform analytics and enhance user experience. Do you accept to the use of cookies?
        </p>
        <p class="cookie-consent-buttons">
          <a id="decline-cookie-btn" class="btn white-button" href="javascript:void(0)">Decline</a>
          <a id="accept-cookie-btn" class="btn blue-button" href="javascript:void(0)">Accept</a>
        </p>
      </div>
      `;
      
      const parseCookie = str =>
        str
        .split(';')
        .map(v => v.split('='))
        .reduce((acc, v) => {
          acc[decodeURIComponent(v[0].trim())] = decodeURIComponent(v[1].trim());
          return acc;
        }, {});
      
      dateDiffHours = cookieConsentDeclinedDate ? Math.abs(cookieConsentDeclinedDate - today) / 36e5 : 0;
      if (document.cookie.indexOf(cookieName) < 0) {
        if (cookieConsentDeclinedDate) {
          if (dateDiffHours > 24) {
            $("body").append(cookieConsentHtml);
          }
        } else {
          $("body").append(cookieConsentHtml);
        }
      } else {
        cookies = parseCookie(document.cookie);
        if (cookies["cookie_consent"] == "accept") {
          consentGranted();
        }
      }
      
      $("#accept-cookie-btn").click(function() {
        document.cookie = `${cookieName}=accept;expires=${expiryTime};path=/`;
        localStorage.removeItem("cookie_consent_declined");
        consentGranted();
        $("#cookie-consent").hide();
      });
      $("#decline-cookie-btn").click(function() {
        localStorage.setItem("cookie_consent_declined", today);
        $("#cookie-consent").hide();
      });
</script>
</body>
</html>