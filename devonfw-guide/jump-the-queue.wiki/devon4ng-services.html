<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=">
<meta name="generator" content="Asciidoctor 1.5.8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ******** SOCIAL MEDIA META ********** -->

<meta name="title" property="og:title" content="devonfw website">
<meta property="og:type" content="website">
<meta name="image" property="og:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="description" property="og:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta property="og:url" content="https://devonfw.com/index.html">

<meta name="twitter:title" content="devonfw website">
<meta name="twitter:description" content="devonfw is the standard open source software development platform; Serving the full Software Delivery Life Cycle.">
<meta name="twitter:image" content="https://devonfw.com/images/devonfwwebsite.png">
<meta name="twitter:card" content="summary_large_image">

<!-- ************************************* -->


<title>Angular Services</title>
<!-- devonfw website stylesheet -->
<link rel="stylesheet" type="text/css" href="/devonfw.css">
<!-- Ubuntu Font -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400&display=swap" rel="stylesheet">
<!-- Lunr -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.6/lunr.min.js" integrity="sha256-M/Awbb/BYh+Rh0aGjpQid26p1b2OBsrk2k9yAvQxPV0=" crossorigin="anonymous"></script>
<!-- JQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/styles/googlecode.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4/lang/common.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>

<script src="/website/components/header/search-engine/bundle.js"></script>

<!-- ************** Google analytics ************ -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-151636804-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-151636804-1');
</script>

<!-- ******************************************** -->


<link rel="stylesheet" type="text/css" href="https://cginternal.devonfw.com/websitesnippets/main.css">
<script src="https://cginternal.devonfw.com/websitesnippets/main.js"></script>
</head>
<body class="article">
<div id="website-navbar" class="website-navbar">
<button id="menu-button" class="menu-button">
  <img src="/images/menu-button.svg" width="32px" height="32px" alt=""/>
</button>

<ul>
<li>
<p><span class="image"><a class="image" href="/website/pages/welcome/welcome.html"><img alt="logo" src="/images/Logo_devonfw.svg"></a></span></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">DOCS</a></p>
</li>
</ul>

<form class="form-inline">
  <div class="search-bar">
    <input
      id="search-field"
      type="search"
      class="form-control mr-sm-2"
      placeholder="Search by keyword(s)..."
      aria-label="Search"
      style="height: auto;"
      autocomplete="off"/>
    <div class="sb-res-pos px-4">
      <div id="click-outside" class="click-outside z-50 hidden"></div>
      <div class="col rounded px-0 border z-100 bg-white hidden search-bar-results" id="search-results-box">
      </div>
    </div>
  </div>
</form>
<a class="navbar-github text-white" href="https://github.com/devonfw/">
  <img src="/images/github-mark.png" width=auto height=auto alt="">
</a></div>
<div id="sidebar" class="wiki-sidebar"></div>

<div id="content" class="mt-4 mt-sm-5">
<div class="toc2">
<div class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#devon4ng-services.asciidoc_angular-services">Angular Services</a></li>
<li><a href="#devon4ng-services.asciidoc_what-are-angular-services">What are Angular Services?</a></li>
<li><a href="#devon4ng-services.asciidoc_dependency-injection">Dependency Injection</a></li>
<li><a href="#devon4ng-services.asciidoc_create-a-new-service">Create a new Service</a></li>
<li><a href="#devon4ng-services.asciidoc_authentication">Authentication</a></li>
<li><a href="#devon4ng-services.asciidoc_guards">Guards</a></li>
<li><a href="#devon4ng-services.asciidoc_server-communication">Server Communication</a></li>
</ul>
<div class="sect1">
<h2 id="devon4ng-services.asciidoc_angular-services">Angular Services</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In this chapter we are going to take a closer look at Angular services and learn how to utilize them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devon4ng-services.asciidoc_what-are-angular-services">What are Angular Services?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>From <a href="https://angular.io/guide/architecture-services">Angular&#8217;s Services Intro</a>:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Service is a broad category encompassing any value, function, or feature that your application needs.</p>
</div>
<div class="paragraph">
<p>Almost anything can be a service. A service is typically a class with a narrow, well-defined purpose. It should do something specific and do it well.</p>
</div>
<div class="paragraph">
<p>There is nothing specifically Angular about services. Angular has no definition of a service. There is no service base class, and no place to register a service.</p>
</div>
<div class="paragraph">
<p>Yet services are fundamental to any Angular application. Components are big consumers of services.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Services are often created in a shared folder, with the purpose of containing all the logic of a component or a complex type of operation. For example, in the case of MyThaiStar, all components which call the server, or have methods with more complex logic, have their own service that implements them. There are also services, which&#8201;&#8212;&#8201;instead of being used by just one component&#8201;&#8212;&#8201;are used several times throughout the code, in many components, like the price calculator for example.</p>
</div>
<div class="paragraph">
<p>Just like components, services have to be declared as a NgModule. In this case via the <code>providers</code> array.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devon4ng-services.asciidoc_dependency-injection">Dependency Injection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://angular.io/guide/architecture#dependency-injection">Angular Architecture Documentation</a> says the following about DI:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Dependency injection is a way to supply a new instance of a class with the fully-formed dependencies it requires. Most dependencies are services. Angular uses dependency injection to provide new components with the services they need.</p>
</div>
<div class="paragraph">
<p>When Angular creates a component, it first asks an injector for the services that the component requires.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/runner/work/devonfw.github.io/devonfw.github.io/target/generated-docs/images/devon4ng/5.Angular_Services/injector.png" alt="Angular Injector">
</div>
</div>
<div class="paragraph">
<p>An injector maintains a container of service instances that it has previously created. If a requested service instance is not in the container, the injector makes one and adds it to the container before returning the service to Angular. When all requested services have been resolved and returned, Angular can call the component&#8217;s constructor with those services as arguments. This is dependency injection.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>For more information, please visit the <a href="https://angular.io/guide/dependency-injection">Angular Dependency Injection</a> guide.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devon4ng-services.asciidoc_create-a-new-service">Create a new Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Security or other global services will be stored in a shared folder, at the same level as the rest of the components. Services that are specific to a certain component, will be stored in a folder for the respective component. We can specify the path to a service when creating it with the Angular CLI:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ng generate service &lt;path&gt;/&lt;service_name&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devon4ng-services.asciidoc_authentication">Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Authentication is a special service created to maintain user sessions in the application. In the case of our tutorial application it serves as an indicator of the log-in state and stores the name of the user, but it can be extended to store tokens, validate permissions of roles, and so on.</p>
</div>
<div class="paragraph">
<p>Basically, the objective of this service is to manage, what the user can or can not see, depending on their actions in the application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devon4ng-services.asciidoc_guards">Guards</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://angular.io/guide/router#milestone-5-route-guards">Guards</a> are services, that implement an interface called <strong>CanActivate</strong>. This interface forces developers to implement the <code>canActivate</code> method, which returns a simple boolean. Is up to you to decide, what conditions you are going to implement, to forbid or allow the navigation to a certain component.</p>
</div>
<div class="paragraph">
<p>Guards are strongly related to the Router, because routes can carry the property <code>canActivate:[GuardServiceName]</code>. You can create as many Guards as you want, to secure every single component of your app, just as you require.</p>
</div>
<div class="paragraph">
<p>If your application will have a login process, or special areas not accessible to everyone, we encourage you to use Guards, because even if you hide a navigation-button, the user can still modify the URL in the browser to access a component. With Guards in place, this type of navigation will be forbidden, and you app will not be compromised easily.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="devon4ng-services.asciidoc_server-communication">Server Communication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Angular uses <a href="https://angular.io/guide/http#http">HTTP</a> to communicate with the application server, but the return call is implemented via an object from the <a href="https://rxjs-dev.firebaseapp.com/guide/overview">RxJS</a> library. RxJS is a third party library, endorsed by Angular, and used to manage asynchronous calls based on the <a href="https://en.wikipedia.org/wiki/Observer_pattern">Observer pattern</a>.</p>
</div>
<div class="paragraph">
<p>You don&#8217;t need to install the RxJS package manually, it comes preinstalled when you create a project via the Angular CLI. You just have to import the correct operators and modules to use it correctly.</p>
</div>
<div class="paragraph">
<p>Observables work as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First you make a HTTP call to your server URL, calling for a service. The server will return an Observable that you can work with, using methods that you can find in the API. The most common method is <code>.map</code>, which is used to convert the server response object to JSON. This way you have easy access to any data the server sends to you.</p>
</li>
<li>
<p>When implemented, all operators/methods of the Observable should return the whole Observable, so the component that consumes the service can subscribe to this method and obtain the data.</p>
</li>
<li>
<p>A component calls the <code>subscribe</code> service function, to obtain an Observable object. The <code>subscribe</code> function accepts up to three parameters:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>A function, that executes while everything is going right. It sends a value such as a number, a string, an object, etc. It can be called multiple times, while the Observable is active.</p>
</li>
<li>
<p>A function, that executes only once if something fails. It sends a JavaScript error or exception.</p>
</li>
<li>
<p>An event, that triggers only once, when the Observable becomes inactive.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This is the common workflow with Observables. It takes into account, that if you put some code after the <code>subscribe</code>, it will probably be executed before the subscription ends. If you need something to be executed after the subscribe function, you should put it inside of the subscription.</p>
</div>
<div class="paragraph">
<p>You can find out more about RxJS and Observables on <a href="https://angular.io/guide/observables">Angular&#8217;s Observables</a> page.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Next Chapter</strong>: <a href="#build-devon4ng-application.asciidoc">Build your own devon4ng Application</a></p>
</div>
</div>
</div>
</div>
<div id="footer" class="footer">
<div class="openblock footerLinks">
<div class="content">
<div class="dlist linklist">
<dl>
<dt class="hdlist1">About</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html">About devonfw</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_introduction.html#introduction-why-should-i-use-devonfw.asciidoc">Features</a></p>
</li>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc_further-information.html">Technology Stack</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Explore</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/getting-started.asciidoc.html">Getting started</a></p>
</li>
<li>
<p><a href="/website/pages/docs/devon4j.wiki_architecture.asciidoc.html">Architecture</a></p>
</li>
<li>
<p><a href="/website/pages/resources/resources.html">Resources</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Docs</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="/website/pages/docs/devonfw-ide-introduction.asciidoc.html">User guide</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master-release-notes.asciidoc.html">Releases information</a></p>
</li>
<li>
<p><a href="/website/pages/docs/master.html">Wiki</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="dlist linklist">
<dl>
<dt class="hdlist1">Community</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/orgs/devonfw/people">Contributors</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw/devonfw.github.io/blob/develop/README.asciidoc">Website Contribution</a></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="ulist footerFooter">
<ul>
<li>
<p><a href="https://devonfw.com/website/pages/docs/devonfw-ide-support.asciidoc.html#LICENSE.asciidoc">Terms of Use</a></p>
</li>
<li>
<p><a href="https://github.com/devonfw">Support</a></p>
</li>
</ul>
</div>
</div>
    <script>
      let bb = document.getElementById('menu-button');
      bb.addEventListener('click', function() {
        document.querySelector('.website-navbar ul').classList.toggle('visible');
        console.log(document.querySelector('.website-navbar ul'))
      })
    </script>
    <script type="module">
      import { EditLinksModule } from '/website/shared/editlinks.js';

      let alwaysVisible = true;
      if(document.location.pathname.endsWith("pages/welcome/welcome.html")) {
        alwaysVisible = false;
      }
      EditLinksModule.addEditLinks(alwaysVisible);
    </script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
      crossorigin="anonymous"
    ></script>
<div class="footnote"><sub>

Last updated 2021-12-15 21:06:12 UTC
</sub></div>
</div>
</div>
<script>
  if(!document.location.pathname.endsWith("pages/welcome/welcome.html")) {
    anchors.options.visible = 'always';
  }
  anchors.add();
</script>
<script>
  var internalUrls = ["https://cginternal.devonfw.com/websitesnippets/"];
  $(".internal").each(function(){
    internalUrls.forEach((internalUrl, index) => {
      $.ajax({url: internalUrl + $(this).text() + "/index.html" })
      .then(r => {
        var leftDiv = $('<div class="info"><span class="infoText">Internal</span><img class="infoImage" src="' + internalUrl + 'logo.png"/></div>');
        var rightFirstDiv = $('<div class="message">This is only visible inside of the corporate network.</div>');
        var rightLastDiv = $('<div class="content"></div>');
        rightLastDiv.html(r);
        var rightDiv = $('<div class="right"></div>');
        rightDiv.append(rightFirstDiv);
        rightDiv.append(rightLastDiv);
        $(this).html(leftDiv);
        $(this).append(rightDiv);
        $(this).addClass("internal-active");
        $(this).removeClass("internal");
      })
    });
	});
</script>
</body>
</html>